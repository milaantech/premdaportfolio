{"ast":null,"code":"import _objectSpread from\"/Users/viveksingh/Desktop/book-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Admin(_ref){var _form$images,_authorForm$social,_authorForm$social2,_authorForm$social3,_authorForm$social4,_authorForm$social5,_authorForm$social6,_authorForm$stats,_authorForm$social7,_authorForm$social8,_authorForm$social9;let{books,setBooks,showAlert,logoutAdmin,author,setAuthor}=_ref;const navigate=useNavigate();const[editing,setEditing]=useState(null);const existingGenres=[...new Set(books.map(b=>b.genre).filter(g=>g))].sort();const empty={title:'',subtitle:'',price:'',images:['https://placehold.co/800x1200?text=New+Book+Cover'],description:'',genre:'',pages:0,isbn:'',pubDate:new Date().toISOString().slice(0,10)};const[form,setForm]=useState(empty);useEffect(()=>{if(editing){setForm(_objectSpread(_objectSpread({},editing),{},{images:editing.images||[empty.images[0]]}));}else{setForm(empty);}},[editing]);function handleImageChange(index,value){const newImages=[...form.images];newImages[index]=value;setForm(_objectSpread(_objectSpread({},form),{},{images:newImages}));}function addImage(){setForm(_objectSpread(_objectSpread({},form),{},{images:[...form.images,'']}));}function removeImage(index){if(form.images.length===1){return showAlert('Error','A book must have at least one image (the primary cover).');}const newImages=form.images.filter((_,i)=>i!==index);setForm(_objectSpread(_objectSpread({},form),{},{images:newImages}));}function save(){const cleanedImages=form.images.filter(img=>img&&img.trim());if(!form.title||!form.price||!form.genre)return showAlert('Validation Error','Book Title, Price, and Genre are required.');if(cleanedImages.length===0)return showAlert('Validation Error','At least one cover image URL is required.');const newBook=_objectSpread(_objectSpread({},form),{},{images:cleanedImages,price:Number(form.price),pages:Number(form.pages)});if(editing){setBooks(prev=>prev.map(b=>b.id===editing.id?_objectSpread(_objectSpread({},newBook),{},{id:editing.id}):b));setEditing(null);}else{setBooks(prev=>[_objectSpread(_objectSpread({},newBook),{},{id:\"b\".concat(Date.now())}),...prev]);setForm(empty);}}function remove(id){showAlert('Confirm Deletion','Are you sure you want to delete this book? This action cannot be undone.',()=>{setBooks(prev=>prev.filter(b=>b.id!==id));});}const previewImage=((_form$images=form.images)===null||_form$images===void 0?void 0:_form$images[0])||'https://placehold.co/400x600?text=Cover';// --- About Page / Author editor state ---\nconst emptyAuthorForm={name:'',tagline:'',bio:'',avatar:'',social:{instagram:'',goodreads:'',twitter:''},stats:[]};const[authorForm,setAuthorForm]=useState(author||emptyAuthorForm);useEffect(()=>{setAuthorForm(author||emptyAuthorForm);},[author]);function handleSocialChange(key,value){setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{social:_objectSpread(_objectSpread({},prev.social),{},{[key]:value})}));}function handleStatChange(index,field,value){const newStats=[...(authorForm.stats||[])];newStats[index]=_objectSpread(_objectSpread({},newStats[index]),{},{[field]:value});setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{stats:newStats}));}function addStat(){setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{stats:[...(prev.stats||[]),{label:'',value:''}]}));}function removeStat(index){setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{stats:prev.stats.filter((_,i)=>i!==index)}));}function saveAuthor(){if(!authorForm.name||!authorForm.bio)return showAlert('Validation Error','Author Name and Bio are required.');const cleanedStats=(authorForm.stats||[]).map(s=>({label:(s.label||'').trim(),value:(s.value||'').toString().trim()})).filter(s=>s.label||s.value);const newAuthor=_objectSpread(_objectSpread({},authorForm),{},{stats:cleanedStats});setAuthor(newAuthor);showAlert('Saved','About page content updated successfully.');}// --- Simple URL validation for avatar and social links ---\nfunction isValidUrl(u){if(!u)return true;// allow empty\ntry{const url=new URL(u);return url.protocol==='http:'||url.protocol==='https:';}catch(_unused){return false;}}const avatarValid=isValidUrl(authorForm.avatar);const instagramValid=isValidUrl((_authorForm$social=authorForm.social)===null||_authorForm$social===void 0?void 0:_authorForm$social.instagram);const goodreadsValid=isValidUrl((_authorForm$social2=authorForm.social)===null||_authorForm$social2===void 0?void 0:_authorForm$social2.goodreads);const twitterValid=isValidUrl((_authorForm$social3=authorForm.social)===null||_authorForm$social3===void 0?void 0:_authorForm$social3.twitter);function currency(n){return\"\\u20B9\".concat(Number(n).toLocaleString('en-IN'));}return/*#__PURE__*/_jsxs(motion.main,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"max-w-7xl mx-auto px-6 py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-serif text-3xl mb-6 text-amber-600 dark:text-amber-500\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl mb-4 font-semibold\",children:[\"Book List (\",books.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:books.map(b=>{var _b$images;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-between shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:(_b$images=b.images)===null||_b$images===void 0?void 0:_b$images[0],alt:b.title,className:\"w-16 h-24 object-cover rounded-md shadow-md\",onError:e=>{e.target.onerror=null;e.target.src='https://placehold.co/400x600?text=Img';}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-lg\",children:b.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-slate-500\",children:[b.genre,\" \\u2022 \",currency(b.price)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditing(b),className:\"px-4 py-2 border border-amber-500 text-amber-600 dark:text-amber-500 rounded-lg hover:bg-amber-50 transition text-sm\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>remove(b.id),className:\"px-4 py-2 border border-rose-500 text-rose-500 rounded-lg hover:bg-rose-50 transition text-sm\",children:\"Delete\"})]})]},b.id);})})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"p-6 border border-slate-300 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800 shadow-lg h-fit sticky top-20\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:editing?'Edit Book':'Add New Book'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{value:form.title,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{title:e.target.value})),placeholder:\"Title\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.subtitle,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{subtitle:e.target.value})),placeholder:\"Subtitle\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.price,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{price:e.target.value})),placeholder:\"Price (\\u20B9)\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.genre,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{genre:e.target.value})),placeholder:\"Genre (e.g., Fiction, Poetry, Thriller)\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",list:\"genre-suggestions\",required:true}),/*#__PURE__*/_jsx(\"datalist\",{id:\"genre-suggestions\",children:existingGenres.map(genre=>/*#__PURE__*/_jsx(\"option\",{value:genre},genre))}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.pages,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{pages:e.target.value})),placeholder:\"Pages\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{value:form.isbn,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{isbn:e.target.value})),placeholder:\"ISBN\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.pubDate,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{pubDate:e.target.value})),placeholder:\"Publication Date\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.description,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{description:e.target.value})),placeholder:\"Description\",className:\"p-3 border rounded-lg w-full h-32 dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pt-3 font-semibold text-sm text-slate-500 dark:text-slate-400\",children:\"Book Images (First is Cover)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[form.images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:image,onChange:e=>handleImageChange(index,e.target.value),placeholder:index===0?\"Primary Cover URL (Required)\":\"Image URL \".concat(index+1),className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",required:index===0}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeImage(index),className:\"px-3 py-1 rounded-lg transition text-white \".concat(index===0?'bg-slate-400 cursor-not-allowed':'bg-rose-500 hover:bg-rose-700'),disabled:index===0,type:\"button\",title:index===0?\"Cannot remove primary cover\":\"Remove Image\",children:\"\\u2715\"})]},index)),/*#__PURE__*/_jsxs(\"button\",{onClick:addImage,className:\"inline-flex items-center gap-2 px-3 py-2 bg-slate-900 hover:bg-slate-700 text-white rounded-lg transition\",type:\"button\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})}),\"Add Image\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:save,className:\"px-5 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold transition\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditing(null);setForm(empty);},className:\"px-5 py-2 border border-slate-400 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition\",children:editing?'Cancel Edit':'Clear Form'})]}),form.title&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-semibold text-lg mb-3\",children:\"Live Card Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border border-slate-300 dark:border-slate-700 rounded-xl flex gap-4 items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:previewImage,alt:\"preview\",className:\"w-16 h-24 object-cover rounded-md shadow\",onError:e=>{e.target.onerror=null;e.target.src='https://placehold.co/400x600?text=Cover Not Found';}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg\",children:form.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-slate-500\",children:[form.genre,\" \\u2022 \",form.pages||'??',\" pages\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-amber-600 font-semibold mt-1\",children:currency(form.price||0)})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>logoutAdmin(navigate),className:\"w-full px-5 py-2 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-semibold transition shadow-md\",children:\"Logout Admin\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-serif text-2xl mb-4\",children:\"About Page Editor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{value:authorForm.name,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{name:e.target.value})),placeholder:\"Author Name\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{value:authorForm.tagline,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{tagline:e.target.value})),placeholder:\"Tagline\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900 mt-2\"}),/*#__PURE__*/_jsx(\"input\",{value:authorForm.avatar,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{avatar:e.target.value})),placeholder:\"Avatar URL\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900 mt-2\"}),!avatarValid&&/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-500 text-xs mt-1\",children:\"Avatar must be a valid http(s) URL\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{value:authorForm.bio,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{bio:e.target.value})),placeholder:\"Short Bio\",className:\"p-3 border rounded-lg w-full h-32 dark:bg-slate-900\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:authorForm.avatar||'https://placehold.co/160x160?text=Avatar',alt:\"preview avatar\",className:\"w-28 h-28 rounded-full object-cover mb-3\",onError:e=>{e.target.onerror=null;e.target.src='https://placehold.co/160x160?text=Avatar';}}),/*#__PURE__*/_jsx(\"div\",{className:\"font-serif text-xl font-semibold\",children:authorForm.name||'Author Name'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-500\",children:authorForm.tagline||'Tagline goes here'}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-sm text-slate-600 dark:text-slate-400\",children:authorForm.bio||'Short bio preview will appear here as you type.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex gap-2\",children:[((_authorForm$social4=authorForm.social)===null||_authorForm$social4===void 0?void 0:_authorForm$social4.instagram)&&/*#__PURE__*/_jsx(\"a\",{href:authorForm.social.instagram,target:\"_blank\",rel:\"noreferrer\",className:\"text-xs px-2 py-1 rounded \".concat(instagramValid?'bg-amber-500 text-white':'bg-rose-200 text-rose-700'),children:\"Instagram\"}),((_authorForm$social5=authorForm.social)===null||_authorForm$social5===void 0?void 0:_authorForm$social5.goodreads)&&/*#__PURE__*/_jsx(\"a\",{href:authorForm.social.goodreads,target:\"_blank\",rel:\"noreferrer\",className:\"text-xs px-2 py-1 rounded \".concat(goodreadsValid?'bg-amber-500 text-white':'bg-rose-200 text-rose-700'),children:\"Goodreads\"}),((_authorForm$social6=authorForm.social)===null||_authorForm$social6===void 0?void 0:_authorForm$social6.twitter)&&/*#__PURE__*/_jsx(\"a\",{href:authorForm.social.twitter,target:\"_blank\",rel:\"noreferrer\",className:\"text-xs px-2 py-1 rounded \".concat(twitterValid?'bg-amber-500 text-white':'bg-rose-200 text-rose-700'),children:\"Twitter\"})]}),((_authorForm$stats=authorForm.stats)===null||_authorForm$stats===void 0?void 0:_authorForm$stats.length)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 grid grid-cols-2 gap-2 w-full\",children:authorForm.stats.map((s,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-white dark:bg-slate-800 rounded text-center border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-amber-500\",children:s.value||'—'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-500\",children:s.label||'Stat'})]},i))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-500 mb-2\",children:\"Social Links\"}),/*#__PURE__*/_jsx(\"input\",{value:((_authorForm$social7=authorForm.social)===null||_authorForm$social7===void 0?void 0:_authorForm$social7.instagram)||'',onChange:e=>handleSocialChange('instagram',e.target.value),placeholder:\"Instagram URL\",className:\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\"}),!instagramValid&&/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-500 text-xs mb-2\",children:\"Instagram link must be a valid http(s) URL\"}),/*#__PURE__*/_jsx(\"input\",{value:((_authorForm$social8=authorForm.social)===null||_authorForm$social8===void 0?void 0:_authorForm$social8.goodreads)||'',onChange:e=>handleSocialChange('goodreads',e.target.value),placeholder:\"Goodreads URL\",className:\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\"}),!goodreadsValid&&/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-500 text-xs mb-2\",children:\"Goodreads link must be a valid http(s) URL\"}),/*#__PURE__*/_jsx(\"input\",{value:((_authorForm$social9=authorForm.social)===null||_authorForm$social9===void 0?void 0:_authorForm$social9.twitter)||'',onChange:e=>handleSocialChange('twitter',e.target.value),placeholder:\"Twitter URL\",className:\"p-2 border rounded-lg w-full dark:bg-slate-900\"}),!twitterValid&&/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-500 text-xs mt-1\",children:\"Twitter link must be a valid http(s) URL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-500\",children:\"Milestones / Stats\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addStat,type:\"button\",className:\"px-2 py-1 bg-slate-900 text-white rounded text-sm\",children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:(authorForm.stats||[]).map((s,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:s.label,onChange:e=>handleStatChange(idx,'label',e.target.value),placeholder:\"Label (e.g., Books Published)\",className:\"p-2 border rounded-lg w-1/2 dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{value:s.value,onChange:e=>handleStatChange(idx,'value',e.target.value),placeholder:\"Value (e.g., 7)\",className:\"p-2 border rounded-lg w-1/3 dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeStat(idx),type:\"button\",className:\"px-2 py-1 bg-rose-500 text-white rounded\",children:\"\\u2715\"})]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveAuthor,disabled:!avatarValid||!instagramValid||!goodreadsValid||!twitterValid||!authorForm.name||!authorForm.bio,className:\"px-4 py-2 \".concat(!avatarValid||!instagramValid||!goodreadsValid||!twitterValid||!authorForm.name||!authorForm.bio?'bg-slate-400 cursor-not-allowed':'bg-emerald-600 hover:bg-emerald-700',\" text-white rounded-lg font-semibold\"),children:\"Save About\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAuthorForm(author||emptyAuthorForm),className:\"px-4 py-2 border rounded-lg\",children:\"Reset\"})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","motion","jsx","_jsx","jsxs","_jsxs","Admin","_ref","_form$images","_authorForm$social","_authorForm$social2","_authorForm$social3","_authorForm$social4","_authorForm$social5","_authorForm$social6","_authorForm$stats","_authorForm$social7","_authorForm$social8","_authorForm$social9","books","setBooks","showAlert","logoutAdmin","author","setAuthor","navigate","editing","setEditing","existingGenres","Set","map","b","genre","filter","g","sort","empty","title","subtitle","price","images","description","pages","isbn","pubDate","Date","toISOString","slice","form","setForm","_objectSpread","handleImageChange","index","value","newImages","addImage","removeImage","length","_","i","save","cleanedImages","img","trim","newBook","Number","prev","id","concat","now","remove","previewImage","emptyAuthorForm","name","tagline","bio","avatar","social","instagram","goodreads","twitter","stats","authorForm","setAuthorForm","handleSocialChange","key","handleStatChange","field","newStats","addStat","label","removeStat","saveAuthor","cleanedStats","s","toString","newAuthor","isValidUrl","u","url","URL","protocol","_unused","avatarValid","instagramValid","goodreadsValid","twitterValid","currency","n","toLocaleString","main","initial","opacity","animate","exit","className","children","_b$images","src","alt","onError","e","target","onerror","onClick","onChange","placeholder","required","type","list","image","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","href","rel","idx"],"sources":["/Users/viveksingh/Desktop/book-frontend/src/components/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\n\nexport default function Admin({ books, setBooks, showAlert, logoutAdmin, author, setAuthor }){\n  const navigate = useNavigate();\n  const [editing, setEditing] = useState(null);\n\n  const existingGenres = [...new Set(books.map(b => b.genre).filter(g => g))].sort();\n\n  const empty = {\n    title:'', subtitle:'', price:'',\n    images: ['https://placehold.co/800x1200?text=New+Book+Cover'],\n    description:'', genre:'', pages:0, isbn:'', pubDate: new Date().toISOString().slice(0, 10)\n  };\n  const [form, setForm] = useState(empty);\n\n  useEffect(()=>{\n    if(editing) {\n      setForm({...editing, images: editing.images || [empty.images[0]]});\n    } else {\n      setForm(empty);\n    }\n  }, [editing]);\n\n  function handleImageChange(index, value) {\n    const newImages = [...form.images];\n    newImages[index] = value;\n    setForm({...form, images: newImages });\n  }\n\n  function addImage() {\n    setForm({...form, images: [...form.images, ''] });\n  }\n\n  function removeImage(index) {\n    if (form.images.length === 1) {\n      return showAlert('Error', 'A book must have at least one image (the primary cover).');\n    }\n    const newImages = form.images.filter((_, i) => i !== index);\n    setForm({...form, images: newImages });\n  }\n\n  function save(){\n    const cleanedImages = form.images.filter(img => img && img.trim());\n\n    if(!form.title || !form.price || !form.genre) return showAlert('Validation Error', 'Book Title, Price, and Genre are required.');\n    if(cleanedImages.length === 0) return showAlert('Validation Error', 'At least one cover image URL is required.');\n\n    const newBook = {\n      ...form,\n      images: cleanedImages,\n      price: Number(form.price),\n      pages: Number(form.pages)\n    };\n\n    if(editing){\n      setBooks(prev => prev.map(b => b.id === editing.id ? {...newBook, id: editing.id} : b));\n      setEditing(null);\n    }\n    else {\n      setBooks(prev => [{...newBook, id:`b${Date.now()}`}, ...prev]);\n      setForm(empty);\n    }\n  }\n\n  function remove(id){\n    showAlert('Confirm Deletion', 'Are you sure you want to delete this book? This action cannot be undone.', () => {\n        setBooks(prev => prev.filter(b=>b.id!==id));\n    });\n  }\n\n  const previewImage = form.images?.[0] || 'https://placehold.co/400x600?text=Cover';\n\n  // --- About Page / Author editor state ---\n  const emptyAuthorForm = {\n    name: '',\n    tagline: '',\n    bio: '',\n    avatar: '',\n    social: { instagram: '', goodreads: '', twitter: '' },\n    stats: []\n  };\n\n  const [authorForm, setAuthorForm] = useState(author || emptyAuthorForm);\n\n  useEffect(() => {\n    setAuthorForm(author || emptyAuthorForm);\n  }, [author]);\n\n  function handleSocialChange(key, value) {\n    setAuthorForm(prev => ({ ...prev, social: { ...prev.social, [key]: value } }));\n  }\n\n  function handleStatChange(index, field, value) {\n    const newStats = [...(authorForm.stats || [])];\n    newStats[index] = { ...newStats[index], [field]: value };\n    setAuthorForm(prev => ({ ...prev, stats: newStats }));\n  }\n\n  function addStat() {\n    setAuthorForm(prev => ({ ...prev, stats: [ ...(prev.stats || []), { label: '', value: '' } ] }));\n  }\n\n  function removeStat(index) {\n    setAuthorForm(prev => ({ ...prev, stats: prev.stats.filter((_, i) => i !== index) }));\n  }\n\n  function saveAuthor() {\n    if (!authorForm.name || !authorForm.bio) return showAlert('Validation Error', 'Author Name and Bio are required.');\n    const cleanedStats = (authorForm.stats || []).map(s => ({ label: (s.label||'').trim(), value: (s.value||'').toString().trim() })).filter(s => s.label || s.value);\n    const newAuthor = { ...authorForm, stats: cleanedStats };\n    setAuthor(newAuthor);\n    showAlert('Saved', 'About page content updated successfully.');\n  }\n\n  // --- Simple URL validation for avatar and social links ---\n  function isValidUrl(u){\n    if(!u) return true; // allow empty\n    try { const url = new URL(u); return url.protocol === 'http:' || url.protocol === 'https:'; } catch { return false; }\n  }\n\n  const avatarValid = isValidUrl(authorForm.avatar);\n  const instagramValid = isValidUrl(authorForm.social?.instagram);\n  const goodreadsValid = isValidUrl(authorForm.social?.goodreads);\n  const twitterValid = isValidUrl(authorForm.social?.twitter);\n\n\n  function currency(n){ return `₹${Number(n).toLocaleString('en-IN')}` }\n\n  return (\n    <motion.main initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"max-w-7xl mx-auto px-6 py-12\">\n      <h2 className=\"font-serif text-3xl mb-6 text-amber-600 dark:text-amber-500\">Admin Dashboard</h2>\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <div className=\"lg:col-span-2\">\n          <h3 className=\"text-xl mb-4 font-semibold\">Book List ({books.length})</h3>\n          <div className=\"grid gap-4\">\n            {books.map(b=> (\n              <div key={b.id} className=\"p-4 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-between shadow-sm\">\n                <div className=\"flex items-center gap-4\">\n                  <img src={b.images?.[0]} alt={b.title} className=\"w-16 h-24 object-cover rounded-md shadow-md\" onError={(e) => {e.target.onerror = null; e.target.src='https://placehold.co/400x600?text=Img'}}/>\n                  <div>\n                    <div className=\"font-semibold text-lg\">{b.title}</div>\n                    <div className=\"text-sm text-slate-500\">{b.genre} • {currency(b.price)}</div>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button onClick={()=>setEditing(b)} className=\"px-4 py-2 border border-amber-500 text-amber-600 dark:text-amber-500 rounded-lg hover:bg-amber-50 transition text-sm\">Edit</button>\n                  <button onClick={()=>remove(b.id)} className=\"px-4 py-2 border border-rose-500 text-rose-500 rounded-lg hover:bg-rose-50 transition text-sm\">Delete</button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <aside className=\"p-6 border border-slate-300 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800 shadow-lg h-fit sticky top-20\">\n          <h3 className=\"text-xl font-semibold mb-4\">{editing? 'Edit Book' : 'Add New Book'}</h3>\n          <div className=\"space-y-3\">\n            <input value={form.title} onChange={e=>setForm({...form, title:e.target.value})} placeholder=\"Title\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" required />\n            <input value={form.subtitle} onChange={e=>setForm({...form, subtitle:e.target.value})} placeholder=\"Subtitle\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <input type=\"number\" value={form.price} onChange={e=>setForm({...form, price:e.target.value})} placeholder=\"Price (₹)\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" required />\n            \n            <input \n                value={form.genre} \n                onChange={e=>setForm({...form, genre:e.target.value})} \n                placeholder=\"Genre (e.g., Fiction, Poetry, Thriller)\" \n                className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" \n                list=\"genre-suggestions\"\n                required\n            />\n            <datalist id=\"genre-suggestions\">\n                {existingGenres.map(genre => <option key={genre} value={genre} />)}\n            </datalist>\n\n            <input type=\"number\" value={form.pages} onChange={e=>setForm({...form, pages:e.target.value})} placeholder=\"Pages\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <input value={form.isbn} onChange={e=>setForm({...form, isbn:e.target.value})} placeholder=\"ISBN\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <input type=\"date\" value={form.pubDate} onChange={e=>setForm({...form, pubDate:e.target.value})} placeholder=\"Publication Date\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <textarea value={form.description} onChange={e=>setForm({...form, description:e.target.value})} placeholder=\"Description\" className=\"p-3 border rounded-lg w-full h-32 dark:bg-slate-900\" />\n\n            <h4 className=\"pt-3 font-semibold text-sm text-slate-500 dark:text-slate-400\">Book Images (First is Cover)</h4>\n            <div className=\"space-y-3\">\n              {form.images.map((image, index) => (\n                <div key={index} className=\"flex gap-2\">\n                  <input\n                    value={image}\n                    onChange={e => handleImageChange(index, e.target.value)}\n                    placeholder={index === 0 ? \"Primary Cover URL (Required)\" : `Image URL ${index + 1}`}\n                    className=\"p-3 border rounded-lg w-full dark:bg-slate-900\"\n                    required={index === 0}\n                  />\n                  <button\n                    onClick={() => removeImage(index)}\n                    className={`px-3 py-1 rounded-lg transition text-white ${index === 0 ? 'bg-slate-400 cursor-not-allowed' : 'bg-rose-500 hover:bg-rose-700'}`}\n                    disabled={index === 0}\n                    type=\"button\"\n                    title={index === 0 ? \"Cannot remove primary cover\" : \"Remove Image\"}\n                  >\n                    ✕\n                  </button>\n                </div>\n              ))}\n              <button onClick={addImage} className=\"inline-flex items-center gap-2 px-3 py-2 bg-slate-900 hover:bg-slate-700 text-white rounded-lg transition\" type=\"button\">\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"/></svg>\n                Add Image\n              </button>\n            </div>\n          </div>\n          <div className=\"flex gap-3 mt-4\">\n            <button onClick={save} className=\"px-5 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold transition\">Save</button>\n            <button onClick={()=>{ setEditing(null); setForm(empty); }} className=\"px-5 py-2 border border-slate-400 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition\">\n              {editing ? 'Cancel Edit' : 'Clear Form'}\n            </button>\n          </div>\n\n          {form.title && (\n            <div className=\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\">\n              <h5 className=\"font-semibold text-lg mb-3\">Live Card Preview</h5>\n              <div className=\"p-3 border border-slate-300 dark:border-slate-700 rounded-xl flex gap-4 items-center\">\n                <img src={previewImage} alt=\"preview\" className=\"w-16 h-24 object-cover rounded-md shadow\" onError={(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/400x600?text=Cover Not Found'; }} />\n                <div>\n                  <div className=\"font-bold text-lg\">{form.title}</div>\n                  <div className=\"text-sm text-slate-500\">{form.genre} • {form.pages || '??'} pages</div>\n                  <div className=\"text-amber-600 font-semibold mt-1\">{currency(form.price || 0)}</div>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          <div className=\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\">\n             <button onClick={() => logoutAdmin(navigate)} className=\"w-full px-5 py-2 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-semibold transition shadow-md\">Logout Admin</button>\n          </div>\n        </aside>\n      </div>\n\n      {/* About Page Editor (Admin) */}\n      <div className=\"mt-8 p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700\">\n        <h3 className=\"font-serif text-2xl mb-4\">About Page Editor</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"md:col-span-2\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <input value={authorForm.name} onChange={e=>setAuthorForm({...authorForm, name:e.target.value})} placeholder=\"Author Name\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n                <input value={authorForm.tagline} onChange={e=>setAuthorForm({...authorForm, tagline:e.target.value})} placeholder=\"Tagline\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900 mt-2\" />\n                <input value={authorForm.avatar} onChange={e=>setAuthorForm({...authorForm, avatar:e.target.value})} placeholder=\"Avatar URL\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900 mt-2\" />\n                {!avatarValid && <div className=\"text-rose-500 text-xs mt-1\">Avatar must be a valid http(s) URL</div>}\n              </div>\n              <div>\n                <textarea value={authorForm.bio} onChange={e=>setAuthorForm({...authorForm, bio:e.target.value})} placeholder=\"Short Bio\" className=\"p-3 border rounded-lg w-full h-32 dark:bg-slate-900\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700\">\n            <div className=\"flex flex-col items-center text-center\">\n              <img src={authorForm.avatar || 'https://placehold.co/160x160?text=Avatar'} alt=\"preview avatar\" className=\"w-28 h-28 rounded-full object-cover mb-3\" onError={(e)=>{e.target.onerror=null; e.target.src='https://placehold.co/160x160?text=Avatar'}} />\n              <div className=\"font-serif text-xl font-semibold\">{authorForm.name || 'Author Name'}</div>\n              <div className=\"text-sm text-slate-500\">{authorForm.tagline || 'Tagline goes here'}</div>\n              <p className=\"mt-3 text-sm text-slate-600 dark:text-slate-400\">{authorForm.bio || 'Short bio preview will appear here as you type.'}</p>\n              <div className=\"mt-3 flex gap-2\">\n                {authorForm.social?.instagram && <a href={authorForm.social.instagram} target=\"_blank\" rel=\"noreferrer\" className={`text-xs px-2 py-1 rounded ${instagramValid? 'bg-amber-500 text-white': 'bg-rose-200 text-rose-700'}`}>Instagram</a>}\n                {authorForm.social?.goodreads && <a href={authorForm.social.goodreads} target=\"_blank\" rel=\"noreferrer\" className={`text-xs px-2 py-1 rounded ${goodreadsValid? 'bg-amber-500 text-white': 'bg-rose-200 text-rose-700'}`}>Goodreads</a>}\n                {authorForm.social?.twitter && <a href={authorForm.social.twitter} target=\"_blank\" rel=\"noreferrer\" className={`text-xs px-2 py-1 rounded ${twitterValid? 'bg-amber-500 text-white': 'bg-rose-200 text-rose-700'}`}>Twitter</a>}\n              </div>\n              {authorForm.stats?.length > 0 && (\n                <div className=\"mt-4 grid grid-cols-2 gap-2 w-full\">\n                  {authorForm.stats.map((s, i) => (\n                    <div key={i} className=\"p-2 bg-white dark:bg-slate-800 rounded text-center border\">\n                      <div className=\"text-2xl font-bold text-amber-500\">{s.value || '—'}</div>\n                      <div className=\"text-xs text-slate-500\">{s.label || 'Stat'}</div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-4\">\n          <div className=\"text-sm text-slate-500 mb-2\">Social Links</div>\n          <input value={authorForm.social?.instagram || ''} onChange={e=>handleSocialChange('instagram', e.target.value)} placeholder=\"Instagram URL\" className=\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\" />\n          {!instagramValid && <div className=\"text-rose-500 text-xs mb-2\">Instagram link must be a valid http(s) URL</div>}\n          <input value={authorForm.social?.goodreads || ''} onChange={e=>handleSocialChange('goodreads', e.target.value)} placeholder=\"Goodreads URL\" className=\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\" />\n          {!goodreadsValid && <div className=\"text-rose-500 text-xs mb-2\">Goodreads link must be a valid http(s) URL</div>}\n          <input value={authorForm.social?.twitter || ''} onChange={e=>handleSocialChange('twitter', e.target.value)} placeholder=\"Twitter URL\" className=\"p-2 border rounded-lg w-full dark:bg-slate-900\" />\n          {!twitterValid && <div className=\"text-rose-500 text-xs mt-1\">Twitter link must be a valid http(s) URL</div>}\n        </div>\n\n        <div className=\"mt-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-sm text-slate-500\">Milestones / Stats</div>\n            <button onClick={addStat} type=\"button\" className=\"px-2 py-1 bg-slate-900 text-white rounded text-sm\">Add</button>\n          </div>\n          <div className=\"space-y-2\">\n            {(authorForm.stats || []).map((s, idx) => (\n              <div key={idx} className=\"flex gap-2\">\n                <input value={s.label} onChange={e=>handleStatChange(idx, 'label', e.target.value)} placeholder=\"Label (e.g., Books Published)\" className=\"p-2 border rounded-lg w-1/2 dark:bg-slate-900\" />\n                <input value={s.value} onChange={e=>handleStatChange(idx, 'value', e.target.value)} placeholder=\"Value (e.g., 7)\" className=\"p-2 border rounded-lg w-1/3 dark:bg-slate-900\" />\n                <button onClick={()=>removeStat(idx)} type=\"button\" className=\"px-2 py-1 bg-rose-500 text-white rounded\">✕</button>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"mt-4 flex gap-2\">\n          <button onClick={saveAuthor} disabled={!avatarValid || !instagramValid || !goodreadsValid || !twitterValid || !authorForm.name || !authorForm.bio} className={`px-4 py-2 ${(!avatarValid || !instagramValid || !goodreadsValid || !twitterValid || !authorForm.name || !authorForm.bio) ? 'bg-slate-400 cursor-not-allowed' : 'bg-emerald-600 hover:bg-emerald-700'} text-white rounded-lg font-semibold`}>Save About</button>\n          <button onClick={()=>setAuthorForm(author || emptyAuthorForm)} className=\"px-4 py-2 border rounded-lg\">Reset</button>\n        </div>\n      </div>\n\n    </motion.main>\n  );\n}\n"],"mappings":"4HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,MAAM,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,cAAe,SAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAgE,KAAAC,YAAA,CAAAC,kBAAA,CAAAC,mBAAA,CAAAC,mBAAA,CAAAC,mBAAA,CAAAC,mBAAA,CAAAC,mBAAA,CAAAC,iBAAA,CAAAC,mBAAA,CAAAC,mBAAA,CAAAC,mBAAA,IAA/D,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,CAAEC,MAAM,CAAEC,SAAU,CAAC,CAAAjB,IAAA,CAC1F,KAAM,CAAAkB,QAAQ,CAAGzB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAC0B,OAAO,CAAEC,UAAU,CAAC,CAAG7B,QAAQ,CAAC,IAAI,CAAC,CAE5C,KAAM,CAAA8B,cAAc,CAAG,CAAC,GAAG,GAAI,CAAAC,GAAG,CAACV,KAAK,CAACW,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,KAAK,CAAC,CAACC,MAAM,CAACC,CAAC,EAAIA,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAElF,KAAM,CAAAC,KAAK,CAAG,CACZC,KAAK,CAAC,EAAE,CAAEC,QAAQ,CAAC,EAAE,CAAEC,KAAK,CAAC,EAAE,CAC/BC,MAAM,CAAE,CAAC,mDAAmD,CAAC,CAC7DC,WAAW,CAAC,EAAE,CAAET,KAAK,CAAC,EAAE,CAAEU,KAAK,CAAC,CAAC,CAAEC,IAAI,CAAC,EAAE,CAAEC,OAAO,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAC3F,CAAC,CACD,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGnD,QAAQ,CAACsC,KAAK,CAAC,CAEvCrC,SAAS,CAAC,IAAI,CACZ,GAAG2B,OAAO,CAAE,CACVuB,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKxB,OAAO,MAAEc,MAAM,CAAEd,OAAO,CAACc,MAAM,EAAI,CAACJ,KAAK,CAACI,MAAM,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CACpE,CAAC,IAAM,CACLS,OAAO,CAACb,KAAK,CAAC,CAChB,CACF,CAAC,CAAE,CAACV,OAAO,CAAC,CAAC,CAEb,QAAS,CAAAyB,iBAAiBA,CAACC,KAAK,CAAEC,KAAK,CAAE,CACvC,KAAM,CAAAC,SAAS,CAAG,CAAC,GAAGN,IAAI,CAACR,MAAM,CAAC,CAClCc,SAAS,CAACF,KAAK,CAAC,CAAGC,KAAK,CACxBJ,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAER,MAAM,CAAEc,SAAS,EAAE,CAAC,CACxC,CAEA,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClBN,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAER,MAAM,CAAE,CAAC,GAAGQ,IAAI,CAACR,MAAM,CAAE,EAAE,CAAC,EAAE,CAAC,CACnD,CAEA,QAAS,CAAAgB,WAAWA,CAACJ,KAAK,CAAE,CAC1B,GAAIJ,IAAI,CAACR,MAAM,CAACiB,MAAM,GAAK,CAAC,CAAE,CAC5B,MAAO,CAAApC,SAAS,CAAC,OAAO,CAAE,0DAA0D,CAAC,CACvF,CACA,KAAM,CAAAiC,SAAS,CAAGN,IAAI,CAACR,MAAM,CAACP,MAAM,CAAC,CAACyB,CAAC,CAAEC,CAAC,GAAKA,CAAC,GAAKP,KAAK,CAAC,CAC3DH,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAER,MAAM,CAAEc,SAAS,EAAE,CAAC,CACxC,CAEA,QAAS,CAAAM,IAAIA,CAAA,CAAE,CACb,KAAM,CAAAC,aAAa,CAAGb,IAAI,CAACR,MAAM,CAACP,MAAM,CAAC6B,GAAG,EAAIA,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAElE,GAAG,CAACf,IAAI,CAACX,KAAK,EAAI,CAACW,IAAI,CAACT,KAAK,EAAI,CAACS,IAAI,CAAChB,KAAK,CAAE,MAAO,CAAAX,SAAS,CAAC,kBAAkB,CAAE,4CAA4C,CAAC,CAChI,GAAGwC,aAAa,CAACJ,MAAM,GAAK,CAAC,CAAE,MAAO,CAAApC,SAAS,CAAC,kBAAkB,CAAE,2CAA2C,CAAC,CAEhH,KAAM,CAAA2C,OAAO,CAAAd,aAAA,CAAAA,aAAA,IACRF,IAAI,MACPR,MAAM,CAAEqB,aAAa,CACrBtB,KAAK,CAAE0B,MAAM,CAACjB,IAAI,CAACT,KAAK,CAAC,CACzBG,KAAK,CAAEuB,MAAM,CAACjB,IAAI,CAACN,KAAK,CAAC,EAC1B,CAED,GAAGhB,OAAO,CAAC,CACTN,QAAQ,CAAC8C,IAAI,EAAIA,IAAI,CAACpC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACoC,EAAE,GAAKzC,OAAO,CAACyC,EAAE,CAAAjB,aAAA,CAAAA,aAAA,IAAOc,OAAO,MAAEG,EAAE,CAAEzC,OAAO,CAACyC,EAAE,GAAIpC,CAAC,CAAC,CAAC,CACvFJ,UAAU,CAAC,IAAI,CAAC,CAClB,CAAC,IACI,CACHP,QAAQ,CAAC8C,IAAI,EAAI,CAAAhB,aAAA,CAAAA,aAAA,IAAKc,OAAO,MAAEG,EAAE,KAAAC,MAAA,CAAKvB,IAAI,CAACwB,GAAG,CAAC,CAAC,CAAE,GAAG,GAAGH,IAAI,CAAC,CAAC,CAC9DjB,OAAO,CAACb,KAAK,CAAC,CAChB,CACF,CAEA,QAAS,CAAAkC,MAAMA,CAACH,EAAE,CAAC,CACjB9C,SAAS,CAAC,kBAAkB,CAAE,0EAA0E,CAAE,IAAM,CAC5GD,QAAQ,CAAC8C,IAAI,EAAIA,IAAI,CAACjC,MAAM,CAACF,CAAC,EAAEA,CAAC,CAACoC,EAAE,GAAGA,EAAE,CAAC,CAAC,CAC/C,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAI,YAAY,CAAG,EAAA/D,YAAA,CAAAwC,IAAI,CAACR,MAAM,UAAAhC,YAAA,iBAAXA,YAAA,CAAc,CAAC,CAAC,GAAI,yCAAyC,CAElF;AACA,KAAM,CAAAgE,eAAe,CAAG,CACtBC,IAAI,CAAE,EAAE,CACRC,OAAO,CAAE,EAAE,CACXC,GAAG,CAAE,EAAE,CACPC,MAAM,CAAE,EAAE,CACVC,MAAM,CAAE,CAAEC,SAAS,CAAE,EAAE,CAAEC,SAAS,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAG,CAAC,CACrDC,KAAK,CAAE,EACT,CAAC,CAED,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGrF,QAAQ,CAACyB,MAAM,EAAIiD,eAAe,CAAC,CAEvEzE,SAAS,CAAC,IAAM,CACdoF,aAAa,CAAC5D,MAAM,EAAIiD,eAAe,CAAC,CAC1C,CAAC,CAAE,CAACjD,MAAM,CAAC,CAAC,CAEZ,QAAS,CAAA6D,kBAAkBA,CAACC,GAAG,CAAEhC,KAAK,CAAE,CACtC8B,aAAa,CAACjB,IAAI,EAAAhB,aAAA,CAAAA,aAAA,IAAUgB,IAAI,MAAEW,MAAM,CAAA3B,aAAA,CAAAA,aAAA,IAAOgB,IAAI,CAACW,MAAM,MAAE,CAACQ,GAAG,EAAGhC,KAAK,EAAE,EAAG,CAAC,CAChF,CAEA,QAAS,CAAAiC,gBAAgBA,CAAClC,KAAK,CAAEmC,KAAK,CAAElC,KAAK,CAAE,CAC7C,KAAM,CAAAmC,QAAQ,CAAG,CAAC,IAAIN,UAAU,CAACD,KAAK,EAAI,EAAE,CAAC,CAAC,CAC9CO,QAAQ,CAACpC,KAAK,CAAC,CAAAF,aAAA,CAAAA,aAAA,IAAQsC,QAAQ,CAACpC,KAAK,CAAC,MAAE,CAACmC,KAAK,EAAGlC,KAAK,EAAE,CACxD8B,aAAa,CAACjB,IAAI,EAAAhB,aAAA,CAAAA,aAAA,IAAUgB,IAAI,MAAEe,KAAK,CAAEO,QAAQ,EAAG,CAAC,CACvD,CAEA,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjBN,aAAa,CAACjB,IAAI,EAAAhB,aAAA,CAAAA,aAAA,IAAUgB,IAAI,MAAEe,KAAK,CAAE,CAAE,IAAIf,IAAI,CAACe,KAAK,EAAI,EAAE,CAAC,CAAE,CAAES,KAAK,CAAE,EAAE,CAAErC,KAAK,CAAE,EAAG,CAAC,CAAE,EAAG,CAAC,CAClG,CAEA,QAAS,CAAAsC,UAAUA,CAACvC,KAAK,CAAE,CACzB+B,aAAa,CAACjB,IAAI,EAAAhB,aAAA,CAAAA,aAAA,IAAUgB,IAAI,MAAEe,KAAK,CAAEf,IAAI,CAACe,KAAK,CAAChD,MAAM,CAAC,CAACyB,CAAC,CAAEC,CAAC,GAAKA,CAAC,GAAKP,KAAK,CAAC,EAAG,CAAC,CACvF,CAEA,QAAS,CAAAwC,UAAUA,CAAA,CAAG,CACpB,GAAI,CAACV,UAAU,CAACT,IAAI,EAAI,CAACS,UAAU,CAACP,GAAG,CAAE,MAAO,CAAAtD,SAAS,CAAC,kBAAkB,CAAE,mCAAmC,CAAC,CAClH,KAAM,CAAAwE,YAAY,CAAG,CAACX,UAAU,CAACD,KAAK,EAAI,EAAE,EAAEnD,GAAG,CAACgE,CAAC,GAAK,CAAEJ,KAAK,CAAE,CAACI,CAAC,CAACJ,KAAK,EAAE,EAAE,EAAE3B,IAAI,CAAC,CAAC,CAAEV,KAAK,CAAE,CAACyC,CAAC,CAACzC,KAAK,EAAE,EAAE,EAAE0C,QAAQ,CAAC,CAAC,CAAChC,IAAI,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC9B,MAAM,CAAC6D,CAAC,EAAIA,CAAC,CAACJ,KAAK,EAAII,CAAC,CAACzC,KAAK,CAAC,CACjK,KAAM,CAAA2C,SAAS,CAAA9C,aAAA,CAAAA,aAAA,IAAQgC,UAAU,MAAED,KAAK,CAAEY,YAAY,EAAE,CACxDrE,SAAS,CAACwE,SAAS,CAAC,CACpB3E,SAAS,CAAC,OAAO,CAAE,0CAA0C,CAAC,CAChE,CAEA;AACA,QAAS,CAAA4E,UAAUA,CAACC,CAAC,CAAC,CACpB,GAAG,CAACA,CAAC,CAAE,MAAO,KAAI,CAAE;AACpB,GAAI,CAAE,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,GAAG,CAACF,CAAC,CAAC,CAAE,MAAO,CAAAC,GAAG,CAACE,QAAQ,GAAK,OAAO,EAAIF,GAAG,CAACE,QAAQ,GAAK,QAAQ,CAAE,CAAE,MAAAC,OAAA,CAAM,CAAE,MAAO,MAAK,CAAE,CACtH,CAEA,KAAM,CAAAC,WAAW,CAAGN,UAAU,CAACf,UAAU,CAACN,MAAM,CAAC,CACjD,KAAM,CAAA4B,cAAc,CAAGP,UAAU,EAAAxF,kBAAA,CAACyE,UAAU,CAACL,MAAM,UAAApE,kBAAA,iBAAjBA,kBAAA,CAAmBqE,SAAS,CAAC,CAC/D,KAAM,CAAA2B,cAAc,CAAGR,UAAU,EAAAvF,mBAAA,CAACwE,UAAU,CAACL,MAAM,UAAAnE,mBAAA,iBAAjBA,mBAAA,CAAmBqE,SAAS,CAAC,CAC/D,KAAM,CAAA2B,YAAY,CAAGT,UAAU,EAAAtF,mBAAA,CAACuE,UAAU,CAACL,MAAM,UAAAlE,mBAAA,iBAAjBA,mBAAA,CAAmBqE,OAAO,CAAC,CAG3D,QAAS,CAAA2B,QAAQA,CAACC,CAAC,CAAC,CAAE,eAAAxC,MAAA,CAAWH,MAAM,CAAC2C,CAAC,CAAC,CAACC,cAAc,CAAC,OAAO,CAAC,EAAG,CAErE,mBACExG,KAAA,CAACJ,MAAM,CAAC6G,IAAI,EAACC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAE,CAACC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CAACE,IAAI,CAAE,CAAEF,OAAO,CAAE,CAAE,CAAE,CAACG,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3HjH,IAAA,OAAIgH,SAAS,CAAC,6DAA6D,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAChG/G,KAAA,QAAK8G,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD/G,KAAA,QAAK8G,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B/G,KAAA,OAAI8G,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,aAAW,CAACjG,KAAK,CAACsC,MAAM,CAAC,GAAC,EAAI,CAAC,cAC1EtD,IAAA,QAAKgH,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBjG,KAAK,CAACW,GAAG,CAACC,CAAC,OAAAsF,SAAA,oBACVhH,KAAA,QAAgB8G,SAAS,CAAC,qIAAqI,CAAAC,QAAA,eAC7J/G,KAAA,QAAK8G,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCjH,IAAA,QAAKmH,GAAG,EAAAD,SAAA,CAAEtF,CAAC,CAACS,MAAM,UAAA6E,SAAA,iBAARA,SAAA,CAAW,CAAC,CAAE,CAACE,GAAG,CAAExF,CAAC,CAACM,KAAM,CAAC8E,SAAS,CAAC,6CAA6C,CAACK,OAAO,CAAGC,CAAC,EAAK,CAACA,CAAC,CAACC,MAAM,CAACC,OAAO,CAAG,IAAI,CAAEF,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAC,uCAAuC,EAAE,CAAC,CAAC,cACjMjH,KAAA,QAAA+G,QAAA,eACEjH,IAAA,QAAKgH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAErF,CAAC,CAACM,KAAK,CAAM,CAAC,cACtDhC,KAAA,QAAK8G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAErF,CAAC,CAACC,KAAK,CAAC,UAAG,CAAC2E,QAAQ,CAAC5E,CAAC,CAACQ,KAAK,CAAC,EAAM,CAAC,EAC1E,CAAC,EACH,CAAC,cACNlC,KAAA,QAAK8G,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjH,IAAA,WAAQyH,OAAO,CAAEA,CAAA,GAAIjG,UAAU,CAACI,CAAC,CAAE,CAACoF,SAAS,CAAC,sHAAsH,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClLjH,IAAA,WAAQyH,OAAO,CAAEA,CAAA,GAAItD,MAAM,CAACvC,CAAC,CAACoC,EAAE,CAAE,CAACgD,SAAS,CAAC,+FAA+F,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EACzJ,CAAC,GAXErF,CAAC,CAACoC,EAYP,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,cAEN9D,KAAA,UAAO8G,SAAS,CAAC,uHAAuH,CAAAC,QAAA,eACtIjH,IAAA,OAAIgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAE1F,OAAO,CAAE,WAAW,CAAG,cAAc,CAAK,CAAC,cACvFrB,KAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBjH,IAAA,UAAOkD,KAAK,CAAEL,IAAI,CAACX,KAAM,CAACwF,QAAQ,CAAEJ,CAAC,EAAExE,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAEX,KAAK,CAACoF,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,OAAO,CAACX,SAAS,CAAC,gDAAgD,CAACY,QAAQ,MAAE,CAAC,cAC3K5H,IAAA,UAAOkD,KAAK,CAAEL,IAAI,CAACV,QAAS,CAACuF,QAAQ,CAAEJ,CAAC,EAAExE,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAEV,QAAQ,CAACmF,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,UAAU,CAACX,SAAS,CAAC,gDAAgD,CAAE,CAAC,cAC3KhH,IAAA,UAAO6H,IAAI,CAAC,QAAQ,CAAC3E,KAAK,CAAEL,IAAI,CAACT,KAAM,CAACsF,QAAQ,CAAEJ,CAAC,EAAExE,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAET,KAAK,CAACkF,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,gBAAW,CAACX,SAAS,CAAC,gDAAgD,CAACY,QAAQ,MAAE,CAAC,cAE7L5H,IAAA,UACIkD,KAAK,CAAEL,IAAI,CAAChB,KAAM,CAClB6F,QAAQ,CAAEJ,CAAC,EAAExE,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAEhB,KAAK,CAACyF,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CACtDyE,WAAW,CAAC,yCAAyC,CACrDX,SAAS,CAAC,gDAAgD,CAC1Dc,IAAI,CAAC,mBAAmB,CACxBF,QAAQ,MACX,CAAC,cACF5H,IAAA,aAAUgE,EAAE,CAAC,mBAAmB,CAAAiD,QAAA,CAC3BxF,cAAc,CAACE,GAAG,CAACE,KAAK,eAAI7B,IAAA,WAAoBkD,KAAK,CAAErB,KAAM,EAApBA,KAAsB,CAAC,CAAC,CAC5D,CAAC,cAEX7B,IAAA,UAAO6H,IAAI,CAAC,QAAQ,CAAC3E,KAAK,CAAEL,IAAI,CAACN,KAAM,CAACmF,QAAQ,CAAEJ,CAAC,EAAExE,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAEN,KAAK,CAAC+E,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,OAAO,CAACX,SAAS,CAAC,gDAAgD,CAAE,CAAC,cAChLhH,IAAA,UAAOkD,KAAK,CAAEL,IAAI,CAACL,IAAK,CAACkF,QAAQ,CAAEJ,CAAC,EAAExE,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAEL,IAAI,CAAC8E,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,MAAM,CAACX,SAAS,CAAC,gDAAgD,CAAE,CAAC,cAC/JhH,IAAA,UAAO6H,IAAI,CAAC,MAAM,CAAC3E,KAAK,CAAEL,IAAI,CAACJ,OAAQ,CAACiF,QAAQ,CAAEJ,CAAC,EAAExE,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAEJ,OAAO,CAAC6E,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,kBAAkB,CAACX,SAAS,CAAC,gDAAgD,CAAE,CAAC,cAC7LhH,IAAA,aAAUkD,KAAK,CAAEL,IAAI,CAACP,WAAY,CAACoF,QAAQ,CAAEJ,CAAC,EAAExE,OAAO,CAAAC,aAAA,CAAAA,aAAA,IAAKF,IAAI,MAAEP,WAAW,CAACgF,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,aAAa,CAACX,SAAS,CAAC,qDAAqD,CAAE,CAAC,cAE5LhH,IAAA,OAAIgH,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAAC,8BAA4B,CAAI,CAAC,cAC/G/G,KAAA,QAAK8G,SAAS,CAAC,WAAW,CAAAC,QAAA,EACvBpE,IAAI,CAACR,MAAM,CAACV,GAAG,CAAC,CAACoG,KAAK,CAAE9E,KAAK,gBAC5B/C,KAAA,QAAiB8G,SAAS,CAAC,YAAY,CAAAC,QAAA,eACrCjH,IAAA,UACEkD,KAAK,CAAE6E,KAAM,CACbL,QAAQ,CAAEJ,CAAC,EAAItE,iBAAiB,CAACC,KAAK,CAAEqE,CAAC,CAACC,MAAM,CAACrE,KAAK,CAAE,CACxDyE,WAAW,CAAE1E,KAAK,GAAK,CAAC,CAAG,8BAA8B,cAAAgB,MAAA,CAAgBhB,KAAK,CAAG,CAAC,CAAG,CACrF+D,SAAS,CAAC,gDAAgD,CAC1DY,QAAQ,CAAE3E,KAAK,GAAK,CAAE,CACvB,CAAC,cACFjD,IAAA,WACEyH,OAAO,CAAEA,CAAA,GAAMpE,WAAW,CAACJ,KAAK,CAAE,CAClC+D,SAAS,+CAAA/C,MAAA,CAAgDhB,KAAK,GAAK,CAAC,CAAG,iCAAiC,CAAG,+BAA+B,CAAG,CAC7I+E,QAAQ,CAAE/E,KAAK,GAAK,CAAE,CACtB4E,IAAI,CAAC,QAAQ,CACb3F,KAAK,CAAEe,KAAK,GAAK,CAAC,CAAG,6BAA6B,CAAG,cAAe,CAAAgE,QAAA,CACrE,QAED,CAAQ,CAAC,GAhBDhE,KAiBL,CACN,CAAC,cACF/C,KAAA,WAAQuH,OAAO,CAAErE,QAAS,CAAC4D,SAAS,CAAC,2GAA2G,CAACa,IAAI,CAAC,QAAQ,CAAAZ,QAAA,eAC5JjH,IAAA,QAAKgH,SAAS,CAAC,SAAS,CAACiB,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAlB,QAAA,cAACjH,IAAA,SAAMoI,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAC,GAAG,CAACC,CAAC,CAAC,4BAA4B,CAAC,CAAC,CAAK,CAAC,YAE1L,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,cACNrI,KAAA,QAAK8G,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BjH,IAAA,WAAQyH,OAAO,CAAEhE,IAAK,CAACuD,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,cAC7IjH,IAAA,WAAQyH,OAAO,CAAEA,CAAA,GAAI,CAAEjG,UAAU,CAAC,IAAI,CAAC,CAAEsB,OAAO,CAACb,KAAK,CAAC,CAAE,CAAE,CAAC+E,SAAS,CAAC,0HAA0H,CAAAC,QAAA,CAC7L1F,OAAO,CAAG,aAAa,CAAG,YAAY,CACjC,CAAC,EACN,CAAC,CAELsB,IAAI,CAACX,KAAK,eACThC,KAAA,QAAK8G,SAAS,CAAC,yEAAyE,CAAAC,QAAA,eACtFjH,IAAA,OAAIgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACjE/G,KAAA,QAAK8G,SAAS,CAAC,sFAAsF,CAAAC,QAAA,eACnGjH,IAAA,QAAKmH,GAAG,CAAE/C,YAAa,CAACgD,GAAG,CAAC,SAAS,CAACJ,SAAS,CAAC,0CAA0C,CAACK,OAAO,CAAGC,CAAC,EAAK,CAAEA,CAAC,CAACC,MAAM,CAACC,OAAO,CAAG,IAAI,CAAEF,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAG,mDAAmD,CAAE,CAAE,CAAE,CAAC,cAC/MjH,KAAA,QAAA+G,QAAA,eACEjH,IAAA,QAAKgH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEpE,IAAI,CAACX,KAAK,CAAM,CAAC,cACrDhC,KAAA,QAAK8G,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAEpE,IAAI,CAAChB,KAAK,CAAC,UAAG,CAACgB,IAAI,CAACN,KAAK,EAAI,IAAI,CAAC,QAAM,EAAK,CAAC,cACvFvC,IAAA,QAAKgH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAET,QAAQ,CAAC3D,IAAI,CAACT,KAAK,EAAI,CAAC,CAAC,CAAM,CAAC,EACjF,CAAC,EACH,CAAC,EACH,CACN,cAEDpC,IAAA,QAAKgH,SAAS,CAAC,yEAAyE,CAAAC,QAAA,cACrFjH,IAAA,WAAQyH,OAAO,CAAEA,CAAA,GAAMtG,WAAW,CAACG,QAAQ,CAAE,CAAC0F,SAAS,CAAC,yGAAyG,CAAAC,QAAA,CAAC,cAAY,CAAQ,CAAC,CACrL,CAAC,EACD,CAAC,EACL,CAAC,cAGN/G,KAAA,QAAK8G,SAAS,CAAC,8FAA8F,CAAAC,QAAA,eAC3GjH,IAAA,OAAIgH,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cAC/D/G,KAAA,QAAK8G,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDjH,IAAA,QAAKgH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B/G,KAAA,QAAK8G,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD/G,KAAA,QAAA+G,QAAA,eACEjH,IAAA,UAAOkD,KAAK,CAAE6B,UAAU,CAACT,IAAK,CAACoD,QAAQ,CAAEJ,CAAC,EAAEtC,aAAa,CAAAjC,aAAA,CAAAA,aAAA,IAAKgC,UAAU,MAAET,IAAI,CAACgD,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,aAAa,CAACX,SAAS,CAAC,gDAAgD,CAAE,CAAC,cACxLhH,IAAA,UAAOkD,KAAK,CAAE6B,UAAU,CAACR,OAAQ,CAACmD,QAAQ,CAAEJ,CAAC,EAAEtC,aAAa,CAAAjC,aAAA,CAAAA,aAAA,IAAKgC,UAAU,MAAER,OAAO,CAAC+C,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,SAAS,CAACX,SAAS,CAAC,qDAAqD,CAAE,CAAC,cAC/LhH,IAAA,UAAOkD,KAAK,CAAE6B,UAAU,CAACN,MAAO,CAACiD,QAAQ,CAAEJ,CAAC,EAAEtC,aAAa,CAAAjC,aAAA,CAAAA,aAAA,IAAKgC,UAAU,MAAEN,MAAM,CAAC6C,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,YAAY,CAACX,SAAS,CAAC,qDAAqD,CAAE,CAAC,CAC/L,CAACZ,WAAW,eAAIpG,IAAA,QAAKgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,oCAAkC,CAAK,CAAC,EAClG,CAAC,cACNjH,IAAA,QAAAiH,QAAA,cACEjH,IAAA,aAAUkD,KAAK,CAAE6B,UAAU,CAACP,GAAI,CAACkD,QAAQ,CAAEJ,CAAC,EAAEtC,aAAa,CAAAjC,aAAA,CAAAA,aAAA,IAAKgC,UAAU,MAAEP,GAAG,CAAC8C,CAAC,CAACC,MAAM,CAACrE,KAAK,EAAC,CAAE,CAACyE,WAAW,CAAC,WAAW,CAACX,SAAS,CAAC,qDAAqD,CAAE,CAAC,CACzL,CAAC,EACH,CAAC,CACH,CAAC,cAENhH,IAAA,QAAKgH,SAAS,CAAC,4FAA4F,CAAAC,QAAA,cACzG/G,KAAA,QAAK8G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjH,IAAA,QAAKmH,GAAG,CAAEpC,UAAU,CAACN,MAAM,EAAI,0CAA2C,CAAC2C,GAAG,CAAC,gBAAgB,CAACJ,SAAS,CAAC,0CAA0C,CAACK,OAAO,CAAGC,CAAC,EAAG,CAACA,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,IAAI,CAAEF,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAC,0CAA0C,EAAE,CAAE,CAAC,cACvPnH,IAAA,QAAKgH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAElC,UAAU,CAACT,IAAI,EAAI,aAAa,CAAM,CAAC,cAC1FtE,IAAA,QAAKgH,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAElC,UAAU,CAACR,OAAO,EAAI,mBAAmB,CAAM,CAAC,cACzFvE,IAAA,MAAGgH,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAAElC,UAAU,CAACP,GAAG,EAAI,iDAAiD,CAAI,CAAC,cACxItE,KAAA,QAAK8G,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAC7B,EAAAxG,mBAAA,CAAAsE,UAAU,CAACL,MAAM,UAAAjE,mBAAA,iBAAjBA,mBAAA,CAAmBkE,SAAS,gBAAI3E,IAAA,MAAGwI,IAAI,CAAEzD,UAAU,CAACL,MAAM,CAACC,SAAU,CAAC4C,MAAM,CAAC,QAAQ,CAACkB,GAAG,CAAC,YAAY,CAACzB,SAAS,8BAAA/C,MAAA,CAA+BoC,cAAc,CAAE,yBAAyB,CAAE,2BAA2B,CAAG,CAAAY,QAAA,CAAC,WAAS,CAAG,CAAC,CACtO,EAAAvG,mBAAA,CAAAqE,UAAU,CAACL,MAAM,UAAAhE,mBAAA,iBAAjBA,mBAAA,CAAmBkE,SAAS,gBAAI5E,IAAA,MAAGwI,IAAI,CAAEzD,UAAU,CAACL,MAAM,CAACE,SAAU,CAAC2C,MAAM,CAAC,QAAQ,CAACkB,GAAG,CAAC,YAAY,CAACzB,SAAS,8BAAA/C,MAAA,CAA+BqC,cAAc,CAAE,yBAAyB,CAAE,2BAA2B,CAAG,CAAAW,QAAA,CAAC,WAAS,CAAG,CAAC,CACtO,EAAAtG,mBAAA,CAAAoE,UAAU,CAACL,MAAM,UAAA/D,mBAAA,iBAAjBA,mBAAA,CAAmBkE,OAAO,gBAAI7E,IAAA,MAAGwI,IAAI,CAAEzD,UAAU,CAACL,MAAM,CAACG,OAAQ,CAAC0C,MAAM,CAAC,QAAQ,CAACkB,GAAG,CAAC,YAAY,CAACzB,SAAS,8BAAA/C,MAAA,CAA+BsC,YAAY,CAAE,yBAAyB,CAAE,2BAA2B,CAAG,CAAAU,QAAA,CAAC,SAAO,CAAG,CAAC,EAC5N,CAAC,CACL,EAAArG,iBAAA,CAAAmE,UAAU,CAACD,KAAK,UAAAlE,iBAAA,iBAAhBA,iBAAA,CAAkB0C,MAAM,EAAG,CAAC,eAC3BtD,IAAA,QAAKgH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAChDlC,UAAU,CAACD,KAAK,CAACnD,GAAG,CAAC,CAACgE,CAAC,CAAEnC,CAAC,gBACzBtD,KAAA,QAAa8G,SAAS,CAAC,2DAA2D,CAAAC,QAAA,eAChFjH,IAAA,QAAKgH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEtB,CAAC,CAACzC,KAAK,EAAI,GAAG,CAAM,CAAC,cACzElD,IAAA,QAAKgH,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEtB,CAAC,CAACJ,KAAK,EAAI,MAAM,CAAM,CAAC,GAFzD/B,CAGL,CACN,CAAC,CACC,CACN,EACE,CAAC,CACH,CAAC,EACH,CAAC,cAENtD,KAAA,QAAK8G,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBjH,IAAA,QAAKgH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,cAAY,CAAK,CAAC,cAC/DjH,IAAA,UAAOkD,KAAK,CAAE,EAAArC,mBAAA,CAAAkE,UAAU,CAACL,MAAM,UAAA7D,mBAAA,iBAAjBA,mBAAA,CAAmB8D,SAAS,GAAI,EAAG,CAAC+C,QAAQ,CAAEJ,CAAC,EAAErC,kBAAkB,CAAC,WAAW,CAAEqC,CAAC,CAACC,MAAM,CAACrE,KAAK,CAAE,CAACyE,WAAW,CAAC,eAAe,CAACX,SAAS,CAAC,qDAAqD,CAAE,CAAC,CAC7M,CAACX,cAAc,eAAIrG,IAAA,QAAKgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,4CAA0C,CAAK,CAAC,cAChHjH,IAAA,UAAOkD,KAAK,CAAE,EAAApC,mBAAA,CAAAiE,UAAU,CAACL,MAAM,UAAA5D,mBAAA,iBAAjBA,mBAAA,CAAmB8D,SAAS,GAAI,EAAG,CAAC8C,QAAQ,CAAEJ,CAAC,EAAErC,kBAAkB,CAAC,WAAW,CAAEqC,CAAC,CAACC,MAAM,CAACrE,KAAK,CAAE,CAACyE,WAAW,CAAC,eAAe,CAACX,SAAS,CAAC,qDAAqD,CAAE,CAAC,CAC7M,CAACV,cAAc,eAAItG,IAAA,QAAKgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,4CAA0C,CAAK,CAAC,cAChHjH,IAAA,UAAOkD,KAAK,CAAE,EAAAnC,mBAAA,CAAAgE,UAAU,CAACL,MAAM,UAAA3D,mBAAA,iBAAjBA,mBAAA,CAAmB8D,OAAO,GAAI,EAAG,CAAC6C,QAAQ,CAAEJ,CAAC,EAAErC,kBAAkB,CAAC,SAAS,CAAEqC,CAAC,CAACC,MAAM,CAACrE,KAAK,CAAE,CAACyE,WAAW,CAAC,aAAa,CAACX,SAAS,CAAC,gDAAgD,CAAE,CAAC,CAClM,CAACT,YAAY,eAAIvG,IAAA,QAAKgH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,0CAAwC,CAAK,CAAC,EACzG,CAAC,cAEN/G,KAAA,QAAK8G,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB/G,KAAA,QAAK8G,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDjH,IAAA,QAAKgH,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,oBAAkB,CAAK,CAAC,cAChEjH,IAAA,WAAQyH,OAAO,CAAEnC,OAAQ,CAACuC,IAAI,CAAC,QAAQ,CAACb,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC/G,CAAC,cACNjH,IAAA,QAAKgH,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB,CAAClC,UAAU,CAACD,KAAK,EAAI,EAAE,EAAEnD,GAAG,CAAC,CAACgE,CAAC,CAAE+C,GAAG,gBACnCxI,KAAA,QAAe8G,SAAS,CAAC,YAAY,CAAAC,QAAA,eACnCjH,IAAA,UAAOkD,KAAK,CAAEyC,CAAC,CAACJ,KAAM,CAACmC,QAAQ,CAAEJ,CAAC,EAAEnC,gBAAgB,CAACuD,GAAG,CAAE,OAAO,CAAEpB,CAAC,CAACC,MAAM,CAACrE,KAAK,CAAE,CAACyE,WAAW,CAAC,+BAA+B,CAACX,SAAS,CAAC,+CAA+C,CAAE,CAAC,cAC5LhH,IAAA,UAAOkD,KAAK,CAAEyC,CAAC,CAACzC,KAAM,CAACwE,QAAQ,CAAEJ,CAAC,EAAEnC,gBAAgB,CAACuD,GAAG,CAAE,OAAO,CAAEpB,CAAC,CAACC,MAAM,CAACrE,KAAK,CAAE,CAACyE,WAAW,CAAC,iBAAiB,CAACX,SAAS,CAAC,+CAA+C,CAAE,CAAC,cAC9KhH,IAAA,WAAQyH,OAAO,CAAEA,CAAA,GAAIjC,UAAU,CAACkD,GAAG,CAAE,CAACb,IAAI,CAAC,QAAQ,CAACb,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,QAAC,CAAQ,CAAC,GAH3GyB,GAIL,CACN,CAAC,CACC,CAAC,EACH,CAAC,cAENxI,KAAA,QAAK8G,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BjH,IAAA,WAAQyH,OAAO,CAAEhC,UAAW,CAACuC,QAAQ,CAAE,CAAC5B,WAAW,EAAI,CAACC,cAAc,EAAI,CAACC,cAAc,EAAI,CAACC,YAAY,EAAI,CAACxB,UAAU,CAACT,IAAI,EAAI,CAACS,UAAU,CAACP,GAAI,CAACwC,SAAS,cAAA/C,MAAA,CAAgB,CAACmC,WAAW,EAAI,CAACC,cAAc,EAAI,CAACC,cAAc,EAAI,CAACC,YAAY,EAAI,CAACxB,UAAU,CAACT,IAAI,EAAI,CAACS,UAAU,CAACP,GAAG,CAAI,iCAAiC,CAAG,qCAAqC,wCAAuC,CAAAyC,QAAA,CAAC,YAAU,CAAQ,CAAC,cAC9ZjH,IAAA,WAAQyH,OAAO,CAAEA,CAAA,GAAIzC,aAAa,CAAC5D,MAAM,EAAIiD,eAAe,CAAE,CAAC2C,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,OAAK,CAAQ,CAAC,EAClH,CAAC,EACH,CAAC,EAEK,CAAC,CAElB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}