{"ast":null,"code":"import _objectSpread from\"/Users/viveksingh/Desktop/book-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{HashRouter as Router,Routes,Route,Link,useParams,useNavigate,Navigate}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';// Components split into separate files for clarity\nimport HeaderComponent from'./components/Header';import ToastProvider from'./components/ToastProvider';import useLocalState from'./hooks/useLocalState';import{SAMPLE_BOOKS,SAMPLE_AUTHOR,SAMPLE_PUBLISHERS,SAMPLE_TECH_PARTNERS,SAMPLE_SUPPORTERS,SAMPLE_AUTHORS_COLLAB,SAMPLE_REVIEWS}from'./data/sampleData';import HomeComponent from'./components/Home';import BlogListComponent from'./components/BlogList';import BlogPageComponent from'./components/BlogPage';import BooksComponent from'./components/Books';import BookDetailComponent from'./components/BookDetail';import AdminComponent from'./components/Admin';import AboutComponent from'./components/About';import BookCard from'./components/BookCard';import Newsletter from'./components/Newsletter';import PartnerCard from'./components/PartnerCard';import StarRating from'./components/StarRating';import Footer from'./components/Footer';import CartDrawer from'./components/CartDrawer';import Modal from'./components/Modal';import CheckoutComponent from'./components/Checkout';import OrderSuccess from'./components/OrderSuccess';import OrdersAdmin from'./components/OrdersAdmin';import api from'./lib/api';import PublishersTechPartnersSection from'./components/PublishersTechPartnersSection';import TrustedSupportersSection from'./components/TrustedSupportersSection';import MoreAuthorsSection from'./components/MoreAuthorsSection';// More authors section moved to `src/components/MoreAuthorsSection.js`.\n// Use the imported `MoreAuthorsSection` component instead of an inline definition.\n// Books page moved to `src/components/Books.js`.\n// Use the imported `BooksComponent` instead of an inline definition.\n// BookDetail moved to `src/components/BookDetail.js`.\n// Use the imported `BookDetailComponent` instead of an inline definition.\n// About page kept in this file? Moved some sections to components; keep using imported components where needed.\n// (Primary About page UI is small — use the About route to render data-driven content from `author`.)\n// If you want About as its own component file, we can extract it to `src/components/About.js`.\n// -----------------------\n// Contact\n// -----------------------\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Contact(_ref){let{showAlert}=_ref;function submit(e){e.preventDefault();showAlert('Message Sent','Thank you for your message! This is a demo; in a production app, the message would be sent to a server.');e.target.reset();// Clear form after submission\n}return/*#__PURE__*/_jsxs(motion.main,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},id:\"contact\",className:\"max-w-4xl mx-auto px-6 py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600 dark:text-slate-300 mb-8\",children:\"For inquiries, collaborations or events \\u2014 drop a message.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:\"grid grid-cols-1 gap-5 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",placeholder:\"Name\",className:\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",className:\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",placeholder:\"Message\",className:\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg h-36 focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\",children:\"Send Message\"})]})]});}// -----------------------\n// REMOVED: Dedicated Partners Page component\n// -----------------------\n// The component is removed as its content is moved to the Home page.\n// -----------------------\n// Admin Login Component\n// -----------------------\nfunction AdminLogin(_ref2){let{loginAdmin,showAlert,isAdmin}=_ref2;const[id,setId]=useState('');const[password,setPassword]=useState('');const navigate=useNavigate();// This is correctly placed inside a component wrapped by Router\nuseEffect(()=>{if(isAdmin){navigate('/admin');}},[isAdmin,navigate]);function handleSubmit(e){e.preventDefault();(async()=>{const ok=await loginAdmin(id,password);if(ok)showAlert('Success','Admin logged in successfully!');else showAlert('Login Failed','Invalid User ID or Password.');})();}if(isAdmin)return/*#__PURE__*/_jsx(Navigate,{to:\"/admin\",replace:true});return/*#__PURE__*/_jsx(motion.main,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"max-w-md mx-auto px-6 py-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500 text-center\",children:\"Admin Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-sm text-slate-500 mb-6\",children:\"Use credentials: admin / secret123\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"grid gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User ID (admin)\",value:id,onChange:e=>setId(e.target.value),className:\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password (secret123)\",value:password,onChange:e=>setPassword(e.target.value),className:\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mt-2 px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\",children:\"Login\"})]})]})});}// Admin dashboard component has been moved to `src/components/Admin.js`.\n// -----------------------\n// App\n// -----------------------\nexport default function App(){const[books,setBooks]=useLocalState('pt_books',SAMPLE_BOOKS);const[author,setAuthor]=useLocalState('pt_author',SAMPLE_AUTHOR);const[blogs,setBlogs]=useLocalState('pt_blogs',[]);const[cart,setCart]=useLocalState('pt_cart',[]);const[modal,setModal]=useState({isOpen:false,title:'',message:'',onConfirm:null});const[isAdmin,setIsAdmin]=useLocalState('pt_is_admin',false);const[adminToken,setAdminToken]=useLocalState('pt_admin_token',null);// Admin Credentials\nconst ADMIN_ID='admin';const ADMIN_PASSWORD='secret123';// Central function to trigger the custom modal\nfunction showAlert(title,message){let onConfirm=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;setModal({isOpen:true,title,message,onConfirm});}function addToCart(book){// normalize: keep qty on cart items\nconst existing=cart.find(c=>(c.id||c._id)===(book.id||book._id));if(existing){// Ask admin/user if they'd like to increase quantity\nshowAlert('Already in cart',\"\".concat(book.title,\" is already in your cart. Increase quantity by 1?\"),()=>{setCart(prev=>prev.map(c=>(c.id||c._id)===(book.id||book._id)?_objectSpread(_objectSpread({},c),{},{qty:(c.qty||1)+1}):c));});return;}setCart(prev=>[...prev,_objectSpread(_objectSpread({},book),{},{qty:1})]);showAlert('Item Added',\"\".concat(book.title,\" has been added to your cart.\"));}function updateCartQty(bookId,delta){setCart(prev=>prev.map(c=>(c.id||c._id)===bookId?_objectSpread(_objectSpread({},c),{},{qty:Math.max(1,(c.qty||1)+delta)}):c));}function removeFromCart(idx){setCart(prev=>prev.filter((_,i)=>i!==idx));}function checkout(){// This is where you would start the actual payment flow\nshowAlert('Checkout Demo','Implement Stripe/Razorpay checkout flow here.');}async function loginAdmin(id,password){try{const data=await api.adminLogin(id,password);if(data&&data.token){setIsAdmin(true);setAdminToken(data.token);return true;}}catch(err){console.warn('Admin login failed',err.message||err);return false;}return false;}// logoutAdmin: accepts a navigate function and optional force flag to skip confirmation\nfunction logoutAdmin(navigateCallback){let force=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(force){setIsAdmin(false);setAdminToken(null);try{navigateCallback('/');}catch(e){}return;}showAlert('Confirm Logout','Are you sure you want to log out of the Admin dashboard?',()=>{setIsAdmin(false);setAdminToken(null);navigateCallback('/');// Call the passed navigate function\n});}// Wrapper for Admin route access control\nconst AdminRoute=_ref3=>{let{element}=_ref3;return isAdmin?element:/*#__PURE__*/_jsx(Navigate,{to:\"/admin/login\",replace:true});};// Try to load backend data if available. Falls back to localStorage/sample data.\nuseEffect(()=>{let mounted=true;async function load(){try{const remoteBooks=await api.fetchBooks();// If the backend responded with an array (even empty), prefer that over local sample data.\nif(mounted&&Array.isArray(remoteBooks)){setBooks(remoteBooks.map(b=>_objectSpread(_objectSpread({},b),{},{id:b._id||b.id})));// normalize id\n}}catch(err){/* ignore, backend not available */}try{const remoteAuthor=await api.fetchAuthor();if(mounted&&remoteAuthor)setAuthor(remoteAuthor);}catch(err){/* ignore */}try{const remoteBlogs=await api.fetchBlogs();if(mounted&&Array.isArray(remoteBlogs))setBlogs(remoteBlogs.map(b=>_objectSpread(_objectSpread({},b),{},{id:b._id||b.id})));}catch(err){/* ignore */}}load();// Listen for updates coming from Admin panel and reload blogs\nconst reload=async()=>{try{const remote=await api.fetchBlogs();if(Array.isArray(remote))setBlogs(remote.map(b=>_objectSpread(_objectSpread({},b),{},{id:b._id||b.id})));}catch(e){}};window.addEventListener('blogs-updated',reload);return()=>{mounted=false;};},[]);// run once\nreturn/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(ToastProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-[Inter]\",children:[/*#__PURE__*/_jsx(HeaderComponent,{author:author,isAdmin:isAdmin,featuredBook:books&&books.length?books.find(b=>b.featured)||books[0]:null}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomeComponent,{books:books,author:author,showAlert:showAlert,BookCard:BookCard,Newsletter:Newsletter,PublishersTechPartnersSection:PublishersTechPartnersSection,TrustedSupportersSection:TrustedSupportersSection,publishers:SAMPLE_PUBLISHERS,techPartners:SAMPLE_TECH_PARTNERS,supporters:SAMPLE_SUPPORTERS})}),/*#__PURE__*/_jsx(Route,{path:\"/books\",element:/*#__PURE__*/_jsx(BooksComponent,{books:books,showAlert:showAlert,BookCard:BookCard,Newsletter:Newsletter,MoreAuthorsSection:MoreAuthorsSection,authors:SAMPLE_AUTHORS_COLLAB})}),/*#__PURE__*/_jsx(Route,{path:\"/book/:id\",element:/*#__PURE__*/_jsx(BookDetailComponent,{books:books,addToCart:addToCart,showAlert:showAlert,BookCard:BookCard,Newsletter:Newsletter,reviews:SAMPLE_REVIEWS})}),/*#__PURE__*/_jsx(Route,{path:\"/blogs\",element:/*#__PURE__*/_jsx(BlogListComponent,{blogs:blogs})}),/*#__PURE__*/_jsx(Route,{path:\"/blog/:id\",element:/*#__PURE__*/_jsx(BlogPageComponent,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(AboutComponent,{author:author,books:books})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{showAlert:showAlert})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(CheckoutComponent,{cart:cart,setCart:setCart,showAlert:showAlert})}),/*#__PURE__*/_jsx(Route,{path:\"/order-success/:id\",element:/*#__PURE__*/_jsx(OrderSuccess,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/login\",element:/*#__PURE__*/_jsx(AdminLogin,{loginAdmin:loginAdmin,showAlert:showAlert,isAdmin:isAdmin})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{element:/*#__PURE__*/_jsx(AdminComponent,{books:books,setBooks:setBooks,showAlert:showAlert,logoutAdmin:logoutAdmin,author:author,setAuthor:setAuthor})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/orders\",element:/*#__PURE__*/_jsx(AdminRoute,{element:/*#__PURE__*/_jsx(OrdersAdmin,{})})}),/*#__PURE__*/_jsx(Route,{path:\"https://www.milaanpublications.in/bookstore\",element:/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-4xl mx-auto px-6 py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-serif text-3xl\",children:\"404 - Page Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4\",children:\"The page you were looking for doesn't exist.\"})]})})]})}),/*#__PURE__*/_jsx(Footer,{author:author}),/*#__PURE__*/_jsx(CartDrawer,{cart:cart,remove:removeFromCart,onCheckout:checkout,updateQty:updateCartQty}),/*#__PURE__*/_jsx(Modal,{modal:modal,setModal:setModal})]})})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","HashRouter","Router","Routes","Route","Link","useParams","useNavigate","Navigate","motion","AnimatePresence","HeaderComponent","ToastProvider","useLocalState","SAMPLE_BOOKS","SAMPLE_AUTHOR","SAMPLE_PUBLISHERS","SAMPLE_TECH_PARTNERS","SAMPLE_SUPPORTERS","SAMPLE_AUTHORS_COLLAB","SAMPLE_REVIEWS","HomeComponent","BlogListComponent","BlogPageComponent","BooksComponent","BookDetailComponent","AdminComponent","AboutComponent","BookCard","Newsletter","PartnerCard","StarRating","Footer","CartDrawer","Modal","CheckoutComponent","OrderSuccess","OrdersAdmin","api","PublishersTechPartnersSection","TrustedSupportersSection","MoreAuthorsSection","jsx","_jsx","jsxs","_jsxs","Contact","_ref","showAlert","submit","e","preventDefault","target","reset","main","initial","opacity","animate","exit","id","className","children","onSubmit","name","placeholder","required","type","AdminLogin","_ref2","loginAdmin","isAdmin","setId","password","setPassword","navigate","handleSubmit","ok","to","replace","value","onChange","App","books","setBooks","author","setAuthor","blogs","setBlogs","cart","setCart","modal","setModal","isOpen","title","message","onConfirm","setIsAdmin","adminToken","setAdminToken","ADMIN_ID","ADMIN_PASSWORD","arguments","length","undefined","addToCart","book","existing","find","c","_id","concat","prev","map","_objectSpread","qty","updateCartQty","bookId","delta","Math","max","removeFromCart","idx","filter","_","i","checkout","data","adminLogin","token","err","console","warn","logoutAdmin","navigateCallback","force","AdminRoute","_ref3","element","mounted","load","remoteBooks","fetchBooks","Array","isArray","b","remoteAuthor","fetchAuthor","remoteBlogs","fetchBlogs","reload","remote","window","addEventListener","featuredBook","featured","mode","path","publishers","techPartners","supporters","authors","reviews","remove","onCheckout","updateQty"],"sources":["/Users/viveksingh/Desktop/book-frontend/src/App.js"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport { HashRouter as Router, Routes, Route, Link, useParams, useNavigate, Navigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n// Components split into separate files for clarity\nimport HeaderComponent from './components/Header';\nimport ToastProvider from './components/ToastProvider';\nimport useLocalState from './hooks/useLocalState';\nimport {\n  SAMPLE_BOOKS,\n  SAMPLE_AUTHOR,\n  SAMPLE_PUBLISHERS,\n  SAMPLE_TECH_PARTNERS,\n  SAMPLE_SUPPORTERS,\n  SAMPLE_AUTHORS_COLLAB,\n  SAMPLE_REVIEWS\n} from './data/sampleData';\nimport HomeComponent from './components/Home';\nimport BlogListComponent from './components/BlogList';\nimport BlogPageComponent from './components/BlogPage';\nimport BooksComponent from './components/Books';\nimport BookDetailComponent from './components/BookDetail';\nimport AdminComponent from './components/Admin';\nimport AboutComponent from './components/About';\nimport BookCard from './components/BookCard';\nimport Newsletter from './components/Newsletter';\nimport PartnerCard from './components/PartnerCard';\nimport StarRating from './components/StarRating';\nimport Footer from './components/Footer';\nimport CartDrawer from './components/CartDrawer';\nimport Modal from './components/Modal';\nimport CheckoutComponent from './components/Checkout';\nimport OrderSuccess from './components/OrderSuccess';\nimport OrdersAdmin from './components/OrdersAdmin';\nimport api from './lib/api';\nimport PublishersTechPartnersSection from './components/PublishersTechPartnersSection';\nimport TrustedSupportersSection from './components/TrustedSupportersSection';\nimport MoreAuthorsSection from './components/MoreAuthorsSection';\n\n\n// More authors section moved to `src/components/MoreAuthorsSection.js`.\n// Use the imported `MoreAuthorsSection` component instead of an inline definition.\n\n// Books page moved to `src/components/Books.js`.\n// Use the imported `BooksComponent` instead of an inline definition.\n\n\n\n// BookDetail moved to `src/components/BookDetail.js`.\n// Use the imported `BookDetailComponent` instead of an inline definition.\n\n// About page kept in this file? Moved some sections to components; keep using imported components where needed.\n// (Primary About page UI is small — use the About route to render data-driven content from `author`.)\n// If you want About as its own component file, we can extract it to `src/components/About.js`.\n\n// -----------------------\n// Contact\n// -----------------------\nfunction Contact({ showAlert }){\n  function submit(e){\n    e.preventDefault();\n    showAlert('Message Sent', 'Thank you for your message! This is a demo; in a production app, the message would be sent to a server.');\n    e.target.reset(); // Clear form after submission\n  }\n  return (\n    <motion.main initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} id=\"contact\" className=\"max-w-4xl mx-auto px-6 py-12\">\n      <h2 className=\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500\">Contact</h2>\n      <p className=\"text-slate-600 dark:text-slate-300 mb-8\">For inquiries, collaborations or events — drop a message.</p>\n      <form onSubmit={submit} className=\"grid grid-cols-1 gap-5 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700\">\n        <input name=\"name\" placeholder=\"Name\" className=\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\" required />\n        <input type=\"email\" name=\"email\" placeholder=\"Email\" className=\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\" required />\n        <textarea name=\"message\" placeholder=\"Message\" className=\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg h-36 focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\" required />\n        <button type=\"submit\" className=\"px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\">Send Message</button>\n      </form>\n    </motion.main>\n  );\n}\n\n// -----------------------\n// REMOVED: Dedicated Partners Page component\n// -----------------------\n// The component is removed as its content is moved to the Home page.\n\n// -----------------------\n// Admin Login Component\n// -----------------------\nfunction AdminLogin({ loginAdmin, showAlert, isAdmin }) {\n  const [id, setId] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate(); // This is correctly placed inside a component wrapped by Router\n\n  useEffect(() => {\n    if (isAdmin) {\n      navigate('/admin');\n    }\n  }, [isAdmin, navigate]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    (async () => {\n      const ok = await loginAdmin(id, password);\n      if (ok) showAlert('Success', 'Admin logged in successfully!');\n      else showAlert('Login Failed', 'Invalid User ID or Password.');\n    })();\n  }\n\n  if (isAdmin) return <Navigate to=\"/admin\" replace />;\n\n  return (\n    <motion.main \n      initial={{ opacity: 0 }} \n      animate={{ opacity: 1 }} \n      exit={{ opacity: 0 }} \n      className=\"max-w-md mx-auto px-6 py-20\"\n    >\n      <div className=\"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700\">\n        <h2 className=\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500 text-center\">Admin Login</h2>\n        <p className=\"text-center text-sm text-slate-500 mb-6\">Use credentials: admin / secret123</p>\n        <form onSubmit={handleSubmit} className=\"grid gap-4\">\n          <input \n            type=\"text\" \n            placeholder=\"User ID (admin)\" \n            value={id} \n            onChange={e => setId(e.target.value)}\n            className=\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\" \n            required \n          />\n          <input \n            type=\"password\" \n            placeholder=\"Password (secret123)\" \n            value={password} \n            onChange={e => setPassword(e.target.value)}\n            className=\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\" \n            required \n          />\n          <button \n            type=\"submit\" \n            className=\"mt-2 px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\"\n          >\n            Login\n          </button>\n        </form>\n      </div>\n    </motion.main>\n  );\n}\n\n\n// Admin dashboard component has been moved to `src/components/Admin.js`.\n\n\n// -----------------------\n// App\n// -----------------------\nexport default function App(){\n  const [books, setBooks] = useLocalState('pt_books', SAMPLE_BOOKS);\n  const [author, setAuthor] = useLocalState('pt_author', SAMPLE_AUTHOR);\n  const [blogs, setBlogs] = useLocalState('pt_blogs', []);\n  const [cart, setCart] = useLocalState('pt_cart', []);\n  const [modal, setModal] = useState({ isOpen: false, title: '', message: '', onConfirm: null });\n  const [isAdmin, setIsAdmin] = useLocalState('pt_is_admin', false);\n  const [adminToken, setAdminToken] = useLocalState('pt_admin_token', null);\n  \n  // Admin Credentials\n  const ADMIN_ID = 'admin';\n  const ADMIN_PASSWORD = 'secret123';\n\n  // Central function to trigger the custom modal\n  function showAlert(title, message, onConfirm = null) {\n    setModal({ isOpen: true, title, message, onConfirm });\n  }\n\n  function addToCart(book){\n    // normalize: keep qty on cart items\n    const existing = cart.find(c => (c.id || c._id) === (book.id || book._id));\n    if(existing){\n      // Ask admin/user if they'd like to increase quantity\n      showAlert('Already in cart', `${book.title} is already in your cart. Increase quantity by 1?`, () => {\n        setCart(prev => prev.map(c => ((c.id || c._id) === (book.id || book._id)) ? { ...c, qty: (c.qty || 1) + 1 } : c));\n      });\n      return;\n    }\n    setCart(prev => [...prev, { ...book, qty: 1 }]);\n    showAlert('Item Added', `${book.title} has been added to your cart.`);\n  }\n\n  function updateCartQty(bookId, delta){\n    setCart(prev => prev.map(c => ((c.id || c._id) === bookId) ? { ...c, qty: Math.max(1, (c.qty || 1) + delta) } : c));\n  }\n\n  function removeFromCart(idx){ setCart(prev => prev.filter((_,i)=>i!==idx)); }\n\n  function checkout(){\n    // This is where you would start the actual payment flow\n    showAlert('Checkout Demo', 'Implement Stripe/Razorpay checkout flow here.');\n  }\n\n  async function loginAdmin(id, password) {\n    try{\n      const data = await api.adminLogin(id, password);\n      if(data && data.token){\n        setIsAdmin(true);\n        setAdminToken(data.token);\n        return true;\n      }\n    }catch(err){\n      console.warn('Admin login failed', err.message || err);\n      return false;\n    }\n    return false;\n  }\n\n  // logoutAdmin: accepts a navigate function and optional force flag to skip confirmation\n  function logoutAdmin(navigateCallback, force = false) {\n    if(force){\n      setIsAdmin(false);\n      setAdminToken(null);\n      try{ navigateCallback('/'); }catch(e){}\n      return;\n    }\n    showAlert('Confirm Logout', 'Are you sure you want to log out of the Admin dashboard?', () => {\n      setIsAdmin(false);\n      setAdminToken(null);\n      navigateCallback('/'); // Call the passed navigate function\n    });\n  }\n\n  // Wrapper for Admin route access control\n  const AdminRoute = ({ element }) => (\n    isAdmin ? element : <Navigate to=\"/admin/login\" replace />\n  );\n\n  // Try to load backend data if available. Falls back to localStorage/sample data.\n  useEffect(() => {\n    let mounted = true;\n    async function load() {\n      try{\n        const remoteBooks = await api.fetchBooks();\n        // If the backend responded with an array (even empty), prefer that over local sample data.\n        if(mounted && Array.isArray(remoteBooks)) {\n          setBooks(remoteBooks.map(b => ({ ...b, id: b._id || b.id }))); // normalize id\n        }\n      }catch(err){ /* ignore, backend not available */ }\n      try{\n        const remoteAuthor = await api.fetchAuthor();\n        if(mounted && remoteAuthor) setAuthor(remoteAuthor);\n      }catch(err){ /* ignore */ }\n      try{\n        const remoteBlogs = await api.fetchBlogs();\n        if(mounted && Array.isArray(remoteBlogs)) setBlogs(remoteBlogs.map(b => ({ ...b, id: b._id || b.id })));\n      }catch(err){ /* ignore */ }\n    }\n    load();\n    // Listen for updates coming from Admin panel and reload blogs\n    const reload = async () => {\n      try{ const remote = await api.fetchBlogs(); if(Array.isArray(remote)) setBlogs(remote.map(b => ({ ...b, id: b._id || b.id }))); }catch(e){}\n    };\n    window.addEventListener('blogs-updated', reload);\n    return () => { mounted = false; };\n  }, []); // run once\n\n\n\n  return (\n    <Router>\n      <ToastProvider>\n      <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-[Inter]\">\n  {/* Prefer a book marked `featured`; fallback to first book */}\n  <HeaderComponent author={author} isAdmin={isAdmin} featuredBook={books && books.length ? (books.find(b => b.featured) || books[0]) : null} />\n\n        <AnimatePresence mode=\"wait\">\n          <Routes>\n            {/* Home page now contains all content */}\n            <Route path=\"/\" element={<HomeComponent books={books} author={author} showAlert={showAlert} BookCard={BookCard} Newsletter={Newsletter} PublishersTechPartnersSection={PublishersTechPartnersSection} TrustedSupportersSection={TrustedSupportersSection} publishers={SAMPLE_PUBLISHERS} techPartners={SAMPLE_TECH_PARTNERS} supporters={SAMPLE_SUPPORTERS} />} />\n            <Route path=\"/books\" element={<BooksComponent books={books} showAlert={showAlert} BookCard={BookCard} Newsletter={Newsletter} MoreAuthorsSection={MoreAuthorsSection} authors={SAMPLE_AUTHORS_COLLAB} />} />\n            {/* REMOVED: Dedicated Partners Page Route */}\n            <Route path=\"/book/:id\" element={<BookDetailComponent books={books} addToCart={addToCart} showAlert={showAlert} BookCard={BookCard} Newsletter={Newsletter} reviews={SAMPLE_REVIEWS} />} />\n            <Route path=\"/blogs\" element={<BlogListComponent blogs={blogs} />} />\n            <Route path=\"/blog/:id\" element={<BlogPageComponent />} />\n            <Route path=\"/about\" element={<AboutComponent author={author} books={books} />} />\n            <Route path=\"/contact\" element={<Contact showAlert={showAlert} />} />\n            <Route path=\"/checkout\" element={<CheckoutComponent cart={cart} setCart={setCart} showAlert={showAlert} />} />\n            <Route path=\"/order-success/:id\" element={<OrderSuccess />} />\n            \n            {/* Admin Login Route */}\n            <Route path=\"/admin/login\" element={<AdminLogin loginAdmin={loginAdmin} showAlert={showAlert} isAdmin={isAdmin} />} />\n            \n            {/* Protected Admin Dashboard Route */}\n            <Route path=\"/admin\" element={\n              <AdminRoute \n                element={<AdminComponent books={books} setBooks={setBooks} showAlert={showAlert} logoutAdmin={logoutAdmin} author={author} setAuthor={setAuthor} />}\n              />\n            } />\n            {/* Admin Orders view */}\n            <Route path=\"/admin/orders\" element={\n              <AdminRoute element={<OrdersAdmin />} />\n            } />\n            \n            <Route path=\"https://www.milaanpublications.in/bookstore\" element={<main className=\"max-w-4xl mx-auto px-6 py-12\"><h2 className=\"font-serif text-3xl\">404 - Page Not Found</h2><p className=\"mt-4\">The page you were looking for doesn't exist.</p></main>} />\n          </Routes>\n        </AnimatePresence>\n\n        <Footer author={author} />\n\n  <CartDrawer cart={cart} remove={removeFromCart} onCheckout={checkout} updateQty={updateCartQty} />\n\n        <Modal modal={modal} setModal={setModal} />\n      </div>\n      </ToastProvider>\n    </Router>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}