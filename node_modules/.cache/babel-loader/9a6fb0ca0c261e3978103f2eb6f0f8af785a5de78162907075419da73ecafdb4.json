{"ast":null,"code":"import _objectSpread from\"/Users/viveksingh/Desktop/book-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import api from'../lib/api';import{useNavigate}from'react-router-dom';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Admin(_ref){var _form$images,_authorForm$social,_authorForm$social2,_authorForm$social3,_authorForm$social4,_authorForm$social5,_authorForm$social6,_authorForm$social7,_authorForm$social8,_authorForm$social9,_authorForm$stats;let{books,setBooks,showAlert,logoutAdmin,author,setAuthor}=_ref;const navigate=useNavigate();const[editing,setEditing]=useState(null);const[activeTab,setActiveTab]=useState('books');// 'books' | 'about'\nconst asideRef=/*#__PURE__*/React.createRef();const existingGenres=[...new Set(books.map(b=>b.genre).filter(g=>g))].sort();const empty={title:'',subtitle:'',price:'',images:['https://placehold.co/800x1200?text=New+Book+Cover'],description:'',genre:'',pages:0,isbn:'',pubDate:new Date().toISOString().slice(0,10)};const[form,setForm]=useState(empty);useEffect(()=>{if(editing){setForm(_objectSpread(_objectSpread({},editing),{},{images:editing.images||[empty.images[0]]}));}else{setForm(empty);}},[editing]);function handleImageChange(index,value){const newImages=[...form.images];newImages[index]=value;setForm(_objectSpread(_objectSpread({},form),{},{images:newImages}));}function addImage(){setForm(_objectSpread(_objectSpread({},form),{},{images:[...form.images,'']}));}function removeImage(index){if(form.images.length===1){return showAlert('Error','A book must have at least one image (the primary cover).');}const newImages=form.images.filter((_,i)=>i!==index);setForm(_objectSpread(_objectSpread({},form),{},{images:newImages}));}function save(){const cleanedImages=form.images.filter(img=>img&&img.trim());if(!form.title||!form.price||!form.genre)return showAlert('Validation Error','Book Title, Price, and Genre are required.');if(cleanedImages.length===0)return showAlert('Validation Error','At least one cover image URL is required.');const newBook=_objectSpread(_objectSpread({},form),{},{images:cleanedImages,price:Number(form.price),pages:Number(form.pages)});if(editing){setBooks(prev=>prev.map(b=>b.id===editing.id?_objectSpread(_objectSpread({},newBook),{},{id:editing.id}):b));setEditing(null);}else{setBooks(prev=>[_objectSpread(_objectSpread({},newBook),{},{id:\"b\".concat(Date.now())}),...prev]);setForm(empty);}}function remove(id){showAlert('Confirm Deletion','Are you sure you want to delete this book? This action cannot be undone.',()=>{setBooks(prev=>prev.filter(b=>b.id!==id));});}const previewImage=((_form$images=form.images)===null||_form$images===void 0?void 0:_form$images[0])||'https://placehold.co/400x600?text=Cover';// Mark a book as featured (only one book should be featured at a time)\nasync function toggleFeatured(id){// Try server-side toggle first, fallback to local update\ntry{await api.toggleFeatured(id);// refresh list from server\nconst remote=await api.fetchBooks();if(Array.isArray(remote))setBooks(remote.map(b=>_objectSpread(_objectSpread({},b),{},{id:b._id||b.id})));showAlert('Updated','Featured book updated.');}catch(err){// fallback: optimistic local update\nsetBooks(prev=>{const clicked=prev.find(b=>b.id===id);const makeFeatured=!(clicked&&clicked.featured);const updated=prev.map(b=>_objectSpread(_objectSpread({},b),{},{featured:makeFeatured&&b.id===id}));return updated;});const clicked=books.find(b=>b.id===id);if(clicked&&clicked.featured)showAlert('Updated',\"\".concat(clicked.title,\" is no longer featured.\"));else if(clicked)showAlert('Updated',\"\".concat(clicked.title,\" is now the featured book.\"));}}// --- About Page / Author editor state ---\nconst emptyAuthorForm={name:'',tagline:'',bio:'',avatar:'',social:{instagram:'',goodreads:'',twitter:''},stats:[]};const[authorForm,setAuthorForm]=useState(author||emptyAuthorForm);useEffect(()=>{setAuthorForm(author||emptyAuthorForm);},[author]);function handleSocialChange(key,value){setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{social:_objectSpread(_objectSpread({},prev.social),{},{[key]:value})}));}function handleStatChange(index,field,value){const newStats=[...(authorForm.stats||[])];newStats[index]=_objectSpread(_objectSpread({},newStats[index]),{},{[field]:value});setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{stats:newStats}));}function addStat(){setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{stats:[...(prev.stats||[]),{label:'',value:''}]}));}function removeStat(index){setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{stats:prev.stats.filter((_,i)=>i!==index)}));}function saveAuthor(){if(!authorForm.name||!authorForm.bio)return showAlert('Validation Error','Author Name and Bio are required.');const cleanedStats=(authorForm.stats||[]).map(s=>({label:(s.label||'').trim(),value:(s.value||'').toString().trim()})).filter(s=>s.label||s.value);const newAuthor=_objectSpread(_objectSpread({},authorForm),{},{stats:cleanedStats});// Try saving to backend, fall back to local state\n(async()=>{try{const saved=await api.saveAuthor(newAuthor);if(saved)setAuthor(saved);else setAuthor(newAuthor);showAlert('Saved','About page content updated successfully.');}catch(err){setAuthor(newAuthor);showAlert('Saved (local)','Saved locally but failed to persist to server.');}})();}// --- Simple URL validation for avatar and social links ---\nfunction isValidUrl(u){if(!u)return true;// allow empty\ntry{const url=new URL(u);return url.protocol==='http:'||url.protocol==='https:';}catch(_unused){return false;}}const avatarValid=isValidUrl(authorForm.avatar);const instagramValid=isValidUrl((_authorForm$social=authorForm.social)===null||_authorForm$social===void 0?void 0:_authorForm$social.instagram);const goodreadsValid=isValidUrl((_authorForm$social2=authorForm.social)===null||_authorForm$social2===void 0?void 0:_authorForm$social2.goodreads);const twitterValid=isValidUrl((_authorForm$social3=authorForm.social)===null||_authorForm$social3===void 0?void 0:_authorForm$social3.twitter);function currency(n){return\"\\u20B9\".concat(Number(n).toLocaleString('en-IN'));}return/*#__PURE__*/_jsxs(motion.main,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"max-w-7xl mx-auto px-6 py-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-serif text-3xl text-amber-600 dark:text-amber-500\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveTab('books');},className:\"px-4 py-2 rounded \".concat(activeTab==='books'?'bg-amber-600 text-white':'bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-700'),children:\"Books\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveTab('about');},className:\"px-4 py-2 rounded \".concat(activeTab==='about'?'bg-emerald-600 text-white':'bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-700'),children:\"About Editor\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveTab('books');setEditing(null);setForm&&setForm(empty);setTimeout(()=>{if(asideRef.current)asideRef.current.scrollIntoView({behavior:'smooth',block:'center'});},100);},className:\"px-4 py-2 rounded bg-slate-900 text-white\",children:\"Add Book\"})]})]}),activeTab==='books'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl mb-4 font-semibold\",children:[\"Book List (\",books.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:books.map(b=>{var _b$images;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-between shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:(_b$images=b.images)===null||_b$images===void 0?void 0:_b$images[0],alt:b.title,className:\"w-16 h-24 object-cover rounded-md shadow-md\",onError:e=>{e.target.onerror=null;e.target.src='https://placehold.co/400x600?text=Img';}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-lg\",children:b.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-slate-500\",children:[b.genre,\" \\u2022 \",currency(b.price)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[b.featured?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleFeatured(b.id),title:\"Unfeature\",className:\"px-3 py-1 rounded-lg bg-amber-500 text-white text-sm flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2605\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Featured\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleFeatured(b.id),title:\"Mark as featured\",className:\"px-3 py-1 rounded-lg border border-amber-500 text-amber-600 hover:bg-amber-50 transition text-sm\",children:\"Mark Featured\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditing(b),className:\"px-4 py-2 border border-amber-500 text-amber-600 dark:text-amber-500 rounded-lg hover:bg-amber-50 transition text-sm\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>remove(b.id),className:\"px-4 py-2 border border-rose-500 text-rose-500 rounded-lg hover:bg-rose-50 transition text-sm\",children:\"Delete\"})]})]},b.id);})})]}),/*#__PURE__*/_jsxs(\"aside\",{ref:asideRef,className:\"p-6 border border-slate-300 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800 shadow-lg h-fit sticky top-20\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:editing?'Edit Book':'Add New Book'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{value:form.title,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{title:e.target.value})),placeholder:\"Title\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.subtitle,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{subtitle:e.target.value})),placeholder:\"Subtitle\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.price,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{price:e.target.value})),placeholder:\"Price (\\u20B9)\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.genre,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{genre:e.target.value})),placeholder:\"Genre (e.g., Fiction, Poetry, Thriller)\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",list:\"genre-suggestions\",required:true}),/*#__PURE__*/_jsx(\"datalist\",{id:\"genre-suggestions\",children:existingGenres.map(genre=>/*#__PURE__*/_jsx(\"option\",{value:genre},genre))}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.pages,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{pages:e.target.value})),placeholder:\"Pages\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{value:form.isbn,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{isbn:e.target.value})),placeholder:\"ISBN\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.pubDate,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{pubDate:e.target.value})),placeholder:\"Publication Date\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.description,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{description:e.target.value})),placeholder:\"Description\",className:\"p-3 border rounded-lg w-full h-32 dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pt-3 font-semibold text-sm text-slate-500 dark:text-slate-400\",children:\"Book Images (First is Cover)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[form.images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:image,onChange:e=>handleImageChange(index,e.target.value),placeholder:index===0?\"Primary Cover URL (Required)\":\"Image URL \".concat(index+1),className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",required:index===0}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeImage(index),className:\"px-3 py-1 rounded-lg transition text-white \".concat(index===0?'bg-slate-400 cursor-not-allowed':'bg-rose-500 hover:bg-rose-700'),disabled:index===0,type:\"button\",title:index===0?\"Cannot remove primary cover\":\"Remove Image\",children:\"\\u2715\"})]},index)),/*#__PURE__*/_jsxs(\"button\",{onClick:addImage,className:\"inline-flex items-center gap-2 px-3 py-2 bg-slate-900 hover:bg-slate-700 text-white rounded-lg transition\",type:\"button\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})}),\"Add Image\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:save,className:\"px-5 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold transition\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditing(null);setForm(empty);},className:\"px-5 py-2 border border-slate-400 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition\",children:editing?'Cancel Edit':'Clear Form'})]}),form.title&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-semibold text-lg mb-3\",children:\"Live Card Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border border-slate-300 dark:border-slate-700 rounded-xl flex gap-4 items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:previewImage,alt:\"preview\",className:\"w-16 h-24 object-cover rounded-md shadow\",onError:e=>{e.target.onerror=null;e.target.src='https://placehold.co/400x600?text=Cover Not Found';}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg\",children:form.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-slate-500\",children:[form.genre,\" \\u2022 \",form.pages||'??',\" pages\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-amber-600 font-semibold mt-1\",children:currency(form.price||0)})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>logoutAdmin(navigate),className:\"w-full px-5 py-2 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-semibold transition shadow-md\",children:\"Logout Admin\"})})]})]}),activeTab==='about'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-serif text-2xl\",children:\"About Page Editor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveAuthor,disabled:!avatarValid||!instagramValid||!goodreadsValid||!twitterValid||!authorForm.name||!authorForm.bio,className:\"px-4 py-2 rounded \".concat(!avatarValid||!instagramValid||!goodreadsValid||!twitterValid||!authorForm.name||!authorForm.bio?'bg-slate-400 cursor-not-allowed':'bg-emerald-600 hover:bg-emerald-700',\" text-white\"),children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAuthorForm(author||emptyAuthorForm),className:\"px-4 py-2 rounded border\",children:\"Reset\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium mb-1 block\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{value:authorForm.name,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{name:e.target.value})),placeholder:\"Author Name\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium mb-1 block mt-3\",children:\"Tagline\"}),/*#__PURE__*/_jsx(\"input\",{value:authorForm.tagline,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{tagline:e.target.value})),placeholder:\"Short tagline\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium mb-1 block mt-3\",children:\"Avatar URL\"}),/*#__PURE__*/_jsx(\"input\",{value:authorForm.avatar,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{avatar:e.target.value})),placeholder:\"https://...\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),!avatarValid&&/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-500 text-xs mt-1\",children:\"Avatar must be a valid http(s) URL\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium mb-1 block\",children:\"Short Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{value:authorForm.bio,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{bio:e.target.value})),placeholder:\"A short author bio\",className:\"p-3 border rounded-lg w-full h-36 dark:bg-slate-900\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium mb-2\",children:\"Social Links\"}),/*#__PURE__*/_jsx(\"input\",{value:((_authorForm$social4=authorForm.social)===null||_authorForm$social4===void 0?void 0:_authorForm$social4.instagram)||'',onChange:e=>handleSocialChange('instagram',e.target.value),placeholder:\"Instagram URL\",className:\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\"}),!instagramValid&&/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-500 text-xs mb-2\",children:\"Must be a valid http(s) URL\"}),/*#__PURE__*/_jsx(\"input\",{value:((_authorForm$social5=authorForm.social)===null||_authorForm$social5===void 0?void 0:_authorForm$social5.goodreads)||'',onChange:e=>handleSocialChange('goodreads',e.target.value),placeholder:\"Goodreads URL\",className:\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\"}),!goodreadsValid&&/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-500 text-xs mb-2\",children:\"Must be a valid http(s) URL\"}),/*#__PURE__*/_jsx(\"input\",{value:((_authorForm$social6=authorForm.social)===null||_authorForm$social6===void 0?void 0:_authorForm$social6.twitter)||'',onChange:e=>handleSocialChange('twitter',e.target.value),placeholder:\"Twitter URL\",className:\"p-2 border rounded-lg w-full dark:bg-slate-900\"}),!twitterValid&&/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-500 text-xs mt-1\",children:\"Must be a valid http(s) URL\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:\"Milestones / Stats\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addStat,type:\"button\",className:\"px-2 py-1 bg-slate-900 text-white rounded text-sm\",children:\"Add Stat\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[(authorForm.stats||[]).map((s,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:s.label,onChange:e=>handleStatChange(idx,'label',e.target.value),placeholder:\"Label (e.g., Books Published)\",className:\"p-2 border rounded-lg w-1/2 dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{value:s.value,onChange:e=>handleStatChange(idx,'value',e.target.value),placeholder:\"Value (e.g., 7)\",className:\"p-2 border rounded-lg w-1/3 dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeStat(idx),type:\"button\",className:\"px-2 py-1 bg-rose-500 text-white rounded\",children:\"\\u2715\"})]},idx)),!(authorForm.stats||[]).length&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-500\",children:\"No stats yet \\u2014 click Add Stat to create one.\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:authorForm.avatar||'https://placehold.co/160x160?text=Avatar',alt:\"preview avatar\",className:\"w-28 h-28 rounded-full object-cover mb-3\",onError:e=>{e.target.onerror=null;e.target.src='https://placehold.co/160x160?text=Avatar';}}),/*#__PURE__*/_jsx(\"div\",{className:\"font-serif text-xl font-semibold\",children:authorForm.name||'Author Name'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-500\",children:authorForm.tagline||'Tagline goes here'}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-sm text-slate-600 dark:text-slate-400\",children:authorForm.bio||'Short bio preview will appear here as you type.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex gap-2\",children:[((_authorForm$social7=authorForm.social)===null||_authorForm$social7===void 0?void 0:_authorForm$social7.instagram)&&/*#__PURE__*/_jsx(\"a\",{href:authorForm.social.instagram,target:\"_blank\",rel:\"noreferrer\",className:\"text-xs px-2 py-1 rounded \".concat(instagramValid?'bg-amber-500 text-white':'bg-rose-200 text-rose-700'),children:\"Instagram\"}),((_authorForm$social8=authorForm.social)===null||_authorForm$social8===void 0?void 0:_authorForm$social8.goodreads)&&/*#__PURE__*/_jsx(\"a\",{href:authorForm.social.goodreads,target:\"_blank\",rel:\"noreferrer\",className:\"text-xs px-2 py-1 rounded \".concat(goodreadsValid?'bg-amber-500 text-white':'bg-rose-200 text-rose-700'),children:\"Goodreads\"}),((_authorForm$social9=authorForm.social)===null||_authorForm$social9===void 0?void 0:_authorForm$social9.twitter)&&/*#__PURE__*/_jsx(\"a\",{href:authorForm.social.twitter,target:\"_blank\",rel:\"noreferrer\",className:\"text-xs px-2 py-1 rounded \".concat(twitterValid?'bg-amber-500 text-white':'bg-rose-200 text-rose-700'),children:\"Twitter\"})]}),((_authorForm$stats=authorForm.stats)===null||_authorForm$stats===void 0?void 0:_authorForm$stats.length)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 grid grid-cols-2 gap-2 w-full\",children:authorForm.stats.map((s,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-white dark:bg-slate-800 rounded text-center border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-amber-500\",children:s.value||'—'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-500\",children:s.label||'Stat'})]},i))})]})})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","api","useNavigate","motion","jsx","_jsx","jsxs","_jsxs","Admin","_ref","_form$images","_authorForm$social","_authorForm$social2","_authorForm$social3","_authorForm$social4","_authorForm$social5","_authorForm$social6","_authorForm$social7","_authorForm$social8","_authorForm$social9","_authorForm$stats","books","setBooks","showAlert","logoutAdmin","author","setAuthor","navigate","editing","setEditing","activeTab","setActiveTab","asideRef","createRef","existingGenres","Set","map","b","genre","filter","g","sort","empty","title","subtitle","price","images","description","pages","isbn","pubDate","Date","toISOString","slice","form","setForm","_objectSpread","handleImageChange","index","value","newImages","addImage","removeImage","length","_","i","save","cleanedImages","img","trim","newBook","Number","prev","id","concat","now","remove","previewImage","toggleFeatured","remote","fetchBooks","Array","isArray","_id","err","clicked","find","makeFeatured","featured","updated","emptyAuthorForm","name","tagline","bio","avatar","social","instagram","goodreads","twitter","stats","authorForm","setAuthorForm","handleSocialChange","key","handleStatChange","field","newStats","addStat","label","removeStat","saveAuthor","cleanedStats","s","toString","newAuthor","saved","isValidUrl","u","url","URL","protocol","_unused","avatarValid","instagramValid","goodreadsValid","twitterValid","currency","n","toLocaleString","main","initial","opacity","animate","exit","className","children","onClick","setTimeout","current","scrollIntoView","behavior","block","_b$images","src","alt","onError","e","target","onerror","ref","onChange","placeholder","required","type","list","image","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","idx","href","rel"],"sources":["/Users/viveksingh/Desktop/book-frontend/src/components/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../lib/api';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\n\nexport default function Admin({ books, setBooks, showAlert, logoutAdmin, author, setAuthor }){\n  const navigate = useNavigate();\n  const [editing, setEditing] = useState(null);\n  const [activeTab, setActiveTab] = useState('books'); // 'books' | 'about'\n  const asideRef = React.createRef();\n\n  const existingGenres = [...new Set(books.map(b => b.genre).filter(g => g))].sort();\n\n  const empty = {\n    title:'', subtitle:'', price:'',\n    images: ['https://placehold.co/800x1200?text=New+Book+Cover'],\n    description:'', genre:'', pages:0, isbn:'', pubDate: new Date().toISOString().slice(0, 10)\n  };\n  const [form, setForm] = useState(empty);\n\n  useEffect(()=>{\n    if(editing) {\n      setForm({...editing, images: editing.images || [empty.images[0]]});\n    } else {\n      setForm(empty);\n    }\n  }, [editing]);\n\n  function handleImageChange(index, value) {\n    const newImages = [...form.images];\n    newImages[index] = value;\n    setForm({...form, images: newImages });\n  }\n\n  function addImage() {\n    setForm({...form, images: [...form.images, ''] });\n  }\n\n  function removeImage(index) {\n    if (form.images.length === 1) {\n      return showAlert('Error', 'A book must have at least one image (the primary cover).');\n    }\n    const newImages = form.images.filter((_, i) => i !== index);\n    setForm({...form, images: newImages });\n  }\n\n  function save(){\n    const cleanedImages = form.images.filter(img => img && img.trim());\n\n    if(!form.title || !form.price || !form.genre) return showAlert('Validation Error', 'Book Title, Price, and Genre are required.');\n    if(cleanedImages.length === 0) return showAlert('Validation Error', 'At least one cover image URL is required.');\n\n    const newBook = {\n      ...form,\n      images: cleanedImages,\n      price: Number(form.price),\n      pages: Number(form.pages)\n    };\n\n    if(editing){\n      setBooks(prev => prev.map(b => b.id === editing.id ? {...newBook, id: editing.id} : b));\n      setEditing(null);\n    }\n    else {\n      setBooks(prev => [{...newBook, id:`b${Date.now()}`}, ...prev]);\n      setForm(empty);\n    }\n  }\n\n  function remove(id){\n    showAlert('Confirm Deletion', 'Are you sure you want to delete this book? This action cannot be undone.', () => {\n        setBooks(prev => prev.filter(b=>b.id!==id));\n    });\n  }\n\n  const previewImage = form.images?.[0] || 'https://placehold.co/400x600?text=Cover';\n\n  // Mark a book as featured (only one book should be featured at a time)\n  async function toggleFeatured(id) {\n    // Try server-side toggle first, fallback to local update\n    try{\n      await api.toggleFeatured(id);\n      // refresh list from server\n      const remote = await api.fetchBooks();\n      if(Array.isArray(remote)) setBooks(remote.map(b => ({ ...b, id: b._id || b.id })));\n      showAlert('Updated', 'Featured book updated.');\n    }catch(err){\n      // fallback: optimistic local update\n      setBooks(prev => {\n        const clicked = prev.find(b => b.id === id);\n        const makeFeatured = !(clicked && clicked.featured);\n        const updated = prev.map(b => ({ ...b, featured: makeFeatured && b.id === id }));\n        return updated;\n      });\n      const clicked = books.find(b => b.id === id);\n      if (clicked && clicked.featured) showAlert('Updated', `${clicked.title} is no longer featured.`);\n      else if (clicked) showAlert('Updated', `${clicked.title} is now the featured book.`);\n    }\n  }\n\n  // --- About Page / Author editor state ---\n  const emptyAuthorForm = {\n    name: '',\n    tagline: '',\n    bio: '',\n    avatar: '',\n    social: { instagram: '', goodreads: '', twitter: '' },\n    stats: []\n  };\n\n  const [authorForm, setAuthorForm] = useState(author || emptyAuthorForm);\n\n  useEffect(() => {\n    setAuthorForm(author || emptyAuthorForm);\n  }, [author]);\n\n  function handleSocialChange(key, value) {\n    setAuthorForm(prev => ({ ...prev, social: { ...prev.social, [key]: value } }));\n  }\n\n  function handleStatChange(index, field, value) {\n    const newStats = [...(authorForm.stats || [])];\n    newStats[index] = { ...newStats[index], [field]: value };\n    setAuthorForm(prev => ({ ...prev, stats: newStats }));\n  }\n\n  function addStat() {\n    setAuthorForm(prev => ({ ...prev, stats: [ ...(prev.stats || []), { label: '', value: '' } ] }));\n  }\n\n  function removeStat(index) {\n    setAuthorForm(prev => ({ ...prev, stats: prev.stats.filter((_, i) => i !== index) }));\n  }\n\n  function saveAuthor() {\n    if (!authorForm.name || !authorForm.bio) return showAlert('Validation Error', 'Author Name and Bio are required.');\n    const cleanedStats = (authorForm.stats || []).map(s => ({ label: (s.label||'').trim(), value: (s.value||'').toString().trim() })).filter(s => s.label || s.value);\n    const newAuthor = { ...authorForm, stats: cleanedStats };\n    // Try saving to backend, fall back to local state\n    (async () => {\n      try{\n        const saved = await api.saveAuthor(newAuthor);\n        if(saved) setAuthor(saved);\n        else setAuthor(newAuthor);\n        showAlert('Saved', 'About page content updated successfully.');\n      }catch(err){\n        setAuthor(newAuthor);\n        showAlert('Saved (local)', 'Saved locally but failed to persist to server.');\n      }\n    })();\n  }\n\n  // --- Simple URL validation for avatar and social links ---\n  function isValidUrl(u){\n    if(!u) return true; // allow empty\n    try { const url = new URL(u); return url.protocol === 'http:' || url.protocol === 'https:'; } catch { return false; }\n  }\n\n  const avatarValid = isValidUrl(authorForm.avatar);\n  const instagramValid = isValidUrl(authorForm.social?.instagram);\n  const goodreadsValid = isValidUrl(authorForm.social?.goodreads);\n  const twitterValid = isValidUrl(authorForm.social?.twitter);\n\n\n  function currency(n){ return `₹${Number(n).toLocaleString('en-IN')}` }\n\n  return (\n    <motion.main initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"max-w-7xl mx-auto px-6 py-12\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"font-serif text-3xl text-amber-600 dark:text-amber-500\">Admin Dashboard</h2>\n        <div className=\"flex gap-2\">\n          <button onClick={() => { setActiveTab('books'); }} className={`px-4 py-2 rounded ${activeTab==='books' ? 'bg-amber-600 text-white' : 'bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-700'}`}>Books</button>\n          <button onClick={() => { setActiveTab('about'); }} className={`px-4 py-2 rounded ${activeTab==='about' ? 'bg-emerald-600 text-white' : 'bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-700'}`}>About Editor</button>\n          <button onClick={() => { setActiveTab('books'); setEditing(null); setForm && setForm(empty); setTimeout(()=>{ if(asideRef.current) asideRef.current.scrollIntoView({behavior:'smooth', block:'center'}); }, 100); }} className=\"px-4 py-2 rounded bg-slate-900 text-white\">Add Book</button>\n        </div>\n      </div>\n      {activeTab === 'books' && (\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <div className=\"lg:col-span-2\">\n          <h3 className=\"text-xl mb-4 font-semibold\">Book List ({books.length})</h3>\n          <div className=\"grid gap-4\">\n            {books.map(b=> (\n              <div key={b.id} className=\"p-4 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-between shadow-sm\">\n                <div className=\"flex items-center gap-4\">\n                  <img src={b.images?.[0]} alt={b.title} className=\"w-16 h-24 object-cover rounded-md shadow-md\" onError={(e) => {e.target.onerror = null; e.target.src='https://placehold.co/400x600?text=Img'}}/>\n                  <div>\n                    <div className=\"font-semibold text-lg\">{b.title}</div>\n                    <div className=\"text-sm text-slate-500\">{b.genre} • {currency(b.price)}</div>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  {/* Featured toggle */}\n                  {b.featured ? (\n                    <button onClick={() => toggleFeatured(b.id)} title=\"Unfeature\" className=\"px-3 py-1 rounded-lg bg-amber-500 text-white text-sm flex items-center gap-2\">\n                      <span>★</span>\n                      <span className=\"hidden sm:inline\">Featured</span>\n                    </button>\n                  ) : (\n                    <button onClick={() => toggleFeatured(b.id)} title=\"Mark as featured\" className=\"px-3 py-1 rounded-lg border border-amber-500 text-amber-600 hover:bg-amber-50 transition text-sm\">Mark Featured</button>\n                  )}\n                  <button onClick={()=>setEditing(b)} className=\"px-4 py-2 border border-amber-500 text-amber-600 dark:text-amber-500 rounded-lg hover:bg-amber-50 transition text-sm\">Edit</button>\n                  <button onClick={()=>remove(b.id)} className=\"px-4 py-2 border border-rose-500 text-rose-500 rounded-lg hover:bg-rose-50 transition text-sm\">Delete</button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n  <aside ref={asideRef} className=\"p-6 border border-slate-300 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800 shadow-lg h-fit sticky top-20\">\n          <h3 className=\"text-xl font-semibold mb-4\">{editing? 'Edit Book' : 'Add New Book'}</h3>\n          <div className=\"space-y-3\">\n            <input value={form.title} onChange={e=>setForm({...form, title:e.target.value})} placeholder=\"Title\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" required />\n            <input value={form.subtitle} onChange={e=>setForm({...form, subtitle:e.target.value})} placeholder=\"Subtitle\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <input type=\"number\" value={form.price} onChange={e=>setForm({...form, price:e.target.value})} placeholder=\"Price (₹)\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" required />\n            \n            <input \n                value={form.genre} \n                onChange={e=>setForm({...form, genre:e.target.value})} \n                placeholder=\"Genre (e.g., Fiction, Poetry, Thriller)\" \n                className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" \n                list=\"genre-suggestions\"\n                required\n            />\n            <datalist id=\"genre-suggestions\">\n                {existingGenres.map(genre => <option key={genre} value={genre} />)}\n            </datalist>\n\n            <input type=\"number\" value={form.pages} onChange={e=>setForm({...form, pages:e.target.value})} placeholder=\"Pages\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <input value={form.isbn} onChange={e=>setForm({...form, isbn:e.target.value})} placeholder=\"ISBN\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <input type=\"date\" value={form.pubDate} onChange={e=>setForm({...form, pubDate:e.target.value})} placeholder=\"Publication Date\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <textarea value={form.description} onChange={e=>setForm({...form, description:e.target.value})} placeholder=\"Description\" className=\"p-3 border rounded-lg w-full h-32 dark:bg-slate-900\" />\n\n            <h4 className=\"pt-3 font-semibold text-sm text-slate-500 dark:text-slate-400\">Book Images (First is Cover)</h4>\n            <div className=\"space-y-3\">\n              {form.images.map((image, index) => (\n                <div key={index} className=\"flex gap-2\">\n                  <input\n                    value={image}\n                    onChange={e => handleImageChange(index, e.target.value)}\n                    placeholder={index === 0 ? \"Primary Cover URL (Required)\" : `Image URL ${index + 1}`}\n                    className=\"p-3 border rounded-lg w-full dark:bg-slate-900\"\n                    required={index === 0}\n                  />\n                  <button\n                    onClick={() => removeImage(index)}\n                    className={`px-3 py-1 rounded-lg transition text-white ${index === 0 ? 'bg-slate-400 cursor-not-allowed' : 'bg-rose-500 hover:bg-rose-700'}`}\n                    disabled={index === 0}\n                    type=\"button\"\n                    title={index === 0 ? \"Cannot remove primary cover\" : \"Remove Image\"}\n                  >\n                    ✕\n                  </button>\n                </div>\n              ))}\n              <button onClick={addImage} className=\"inline-flex items-center gap-2 px-3 py-2 bg-slate-900 hover:bg-slate-700 text-white rounded-lg transition\" type=\"button\">\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"/></svg>\n                Add Image\n              </button>\n            </div>\n          </div>\n          <div className=\"flex gap-3 mt-4\">\n            <button onClick={save} className=\"px-5 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold transition\">Save</button>\n            <button onClick={()=>{ setEditing(null); setForm(empty); }} className=\"px-5 py-2 border border-slate-400 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition\">\n              {editing ? 'Cancel Edit' : 'Clear Form'}\n            </button>\n          </div>\n\n          {form.title && (\n            <div className=\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\">\n              <h5 className=\"font-semibold text-lg mb-3\">Live Card Preview</h5>\n              <div className=\"p-3 border border-slate-300 dark:border-slate-700 rounded-xl flex gap-4 items-center\">\n                <img src={previewImage} alt=\"preview\" className=\"w-16 h-24 object-cover rounded-md shadow\" onError={(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/400x600?text=Cover Not Found'; }} />\n                <div>\n                  <div className=\"font-bold text-lg\">{form.title}</div>\n                  <div className=\"text-sm text-slate-500\">{form.genre} • {form.pages || '??'} pages</div>\n                  <div className=\"text-amber-600 font-semibold mt-1\">{currency(form.price || 0)}</div>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          <div className=\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\">\n             <button onClick={() => logoutAdmin(navigate)} className=\"w-full px-5 py-2 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-semibold transition shadow-md\">Logout Admin</button>\n          </div>\n        </aside>\n        </div>\n        )}\n\n  {/* About Page Editor (Admin) */}\n  {activeTab === 'about' && (\n    <div className=\"mt-8 p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700\">\n      <div className=\"flex items-start justify-between mb-4\">\n        <h3 className=\"font-serif text-2xl\">About Page Editor</h3>\n        <div className=\"flex items-center gap-2\">\n          <button onClick={saveAuthor} disabled={!avatarValid || !instagramValid || !goodreadsValid || !twitterValid || !authorForm.name || !authorForm.bio} className={`px-4 py-2 rounded ${(!avatarValid || !instagramValid || !goodreadsValid || !twitterValid || !authorForm.name || !authorForm.bio) ? 'bg-slate-400 cursor-not-allowed' : 'bg-emerald-600 hover:bg-emerald-700'} text-white`}>Save</button>\n          <button onClick={()=>setAuthorForm(author || emptyAuthorForm)} className=\"px-4 py-2 rounded border\">Reset</button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {/* Form column */}\n        <div className=\"md:col-span-2 space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"text-sm font-medium mb-1 block\">Name</label>\n              <input value={authorForm.name} onChange={e=>setAuthorForm({...authorForm, name:e.target.value})} placeholder=\"Author Name\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n\n              <label className=\"text-sm font-medium mb-1 block mt-3\">Tagline</label>\n              <input value={authorForm.tagline} onChange={e=>setAuthorForm({...authorForm, tagline:e.target.value})} placeholder=\"Short tagline\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n\n              <label className=\"text-sm font-medium mb-1 block mt-3\">Avatar URL</label>\n              <input value={authorForm.avatar} onChange={e=>setAuthorForm({...authorForm, avatar:e.target.value})} placeholder=\"https://...\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n              {!avatarValid && <div className=\"text-rose-500 text-xs mt-1\">Avatar must be a valid http(s) URL</div>}\n            </div>\n\n            <div>\n              <label className=\"text-sm font-medium mb-1 block\">Short Bio</label>\n              <textarea value={authorForm.bio} onChange={e=>setAuthorForm({...authorForm, bio:e.target.value})} placeholder=\"A short author bio\" className=\"p-3 border rounded-lg w-full h-36 dark:bg-slate-900\" />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <div className=\"text-sm font-medium mb-2\">Social Links</div>\n              <input value={authorForm.social?.instagram || ''} onChange={e=>handleSocialChange('instagram', e.target.value)} placeholder=\"Instagram URL\" className=\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\" />\n              {!instagramValid && <div className=\"text-rose-500 text-xs mb-2\">Must be a valid http(s) URL</div>}\n\n              <input value={authorForm.social?.goodreads || ''} onChange={e=>handleSocialChange('goodreads', e.target.value)} placeholder=\"Goodreads URL\" className=\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\" />\n              {!goodreadsValid && <div className=\"text-rose-500 text-xs mb-2\">Must be a valid http(s) URL</div>}\n\n              <input value={authorForm.social?.twitter || ''} onChange={e=>handleSocialChange('twitter', e.target.value)} placeholder=\"Twitter URL\" className=\"p-2 border rounded-lg w-full dark:bg-slate-900\" />\n              {!twitterValid && <div className=\"text-rose-500 text-xs mt-1\">Must be a valid http(s) URL</div>}\n            </div>\n\n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"text-sm font-medium\">Milestones / Stats</div>\n                <button onClick={addStat} type=\"button\" className=\"px-2 py-1 bg-slate-900 text-white rounded text-sm\">Add Stat</button>\n              </div>\n              <div className=\"space-y-2\">\n                {(authorForm.stats || []).map((s, idx) => (\n                  <div key={idx} className=\"flex gap-2\">\n                    <input value={s.label} onChange={e=>handleStatChange(idx, 'label', e.target.value)} placeholder=\"Label (e.g., Books Published)\" className=\"p-2 border rounded-lg w-1/2 dark:bg-slate-900\" />\n                    <input value={s.value} onChange={e=>handleStatChange(idx, 'value', e.target.value)} placeholder=\"Value (e.g., 7)\" className=\"p-2 border rounded-lg w-1/3 dark:bg-slate-900\" />\n                    <button onClick={()=>removeStat(idx)} type=\"button\" className=\"px-2 py-1 bg-rose-500 text-white rounded\">✕</button>\n                  </div>\n                ))}\n                {!(authorForm.stats || []).length && <div className=\"text-sm text-slate-500\">No stats yet — click Add Stat to create one.</div>}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Preview column */}\n        <div className=\"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700\">\n          <div className=\"flex flex-col items-center text-center\">\n            <img src={authorForm.avatar || 'https://placehold.co/160x160?text=Avatar'} alt=\"preview avatar\" className=\"w-28 h-28 rounded-full object-cover mb-3\" onError={(e)=>{e.target.onerror=null; e.target.src='https://placehold.co/160x160?text=Avatar'}} />\n            <div className=\"font-serif text-xl font-semibold\">{authorForm.name || 'Author Name'}</div>\n            <div className=\"text-sm text-slate-500\">{authorForm.tagline || 'Tagline goes here'}</div>\n            <p className=\"mt-3 text-sm text-slate-600 dark:text-slate-400\">{authorForm.bio || 'Short bio preview will appear here as you type.'}</p>\n            <div className=\"mt-3 flex gap-2\">\n              {authorForm.social?.instagram && <a href={authorForm.social.instagram} target=\"_blank\" rel=\"noreferrer\" className={`text-xs px-2 py-1 rounded ${instagramValid? 'bg-amber-500 text-white': 'bg-rose-200 text-rose-700'}`}>Instagram</a>}\n              {authorForm.social?.goodreads && <a href={authorForm.social.goodreads} target=\"_blank\" rel=\"noreferrer\" className={`text-xs px-2 py-1 rounded ${goodreadsValid? 'bg-amber-500 text-white': 'bg-rose-200 text-rose-700'}`}>Goodreads</a>}\n              {authorForm.social?.twitter && <a href={authorForm.social.twitter} target=\"_blank\" rel=\"noreferrer\" className={`text-xs px-2 py-1 rounded ${twitterValid? 'bg-amber-500 text-white': 'bg-rose-200 text-rose-700'}`}>Twitter</a>}\n            </div>\n            {authorForm.stats?.length > 0 && (\n              <div className=\"mt-4 grid grid-cols-2 gap-2 w-full\">\n                {authorForm.stats.map((s, i) => (\n                  <div key={i} className=\"p-2 bg-white dark:bg-slate-800 rounded text-center border\">\n                    <div className=\"text-2xl font-bold text-amber-500\">{s.value || '—'}</div>\n                    <div className=\"text-xs text-slate-500\">{s.label || 'Stat'}</div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  )}\n\n    </motion.main>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}