{"ast":null,"code":"var _jsxFileName = \"/Users/viveksingh/Desktop/book-frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { HashRouter as Router, Routes, Route, Link, useParams, useNavigate, Navigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n// Components split into separate files for clarity\nimport HeaderComponent from './components/Header';\nimport useLocalState from './hooks/useLocalState';\nimport { SAMPLE_BOOKS, SAMPLE_AUTHOR, SAMPLE_PUBLISHERS, SAMPLE_TECH_PARTNERS, SAMPLE_SUPPORTERS, SAMPLE_AUTHORS_COLLAB, SAMPLE_REVIEWS } from './data/sampleData';\nimport HomeComponent from './components/Home';\nimport BooksComponent from './components/Books';\nimport BookDetailComponent from './components/BookDetail';\nimport AdminComponent from './components/Admin';\nimport AboutComponent from './components/About';\nimport BookCard from './components/BookCard';\nimport Newsletter from './components/Newsletter';\nimport PartnerCard from './components/PartnerCard';\nimport StarRating from './components/StarRating';\nimport Footer from './components/Footer';\nimport CartDrawer from './components/CartDrawer';\nimport Modal from './components/Modal';\nimport CheckoutComponent from './components/Checkout';\nimport OrderSuccess from './components/OrderSuccess';\nimport OrdersAdmin from './components/OrdersAdmin';\nimport api from './lib/api';\nimport PublishersTechPartnersSection from './components/PublishersTechPartnersSection';\nimport TrustedSupportersSection from './components/TrustedSupportersSection';\nimport MoreAuthorsSection from './components/MoreAuthorsSection';\n\n// More authors section moved to `src/components/MoreAuthorsSection.js`.\n// Use the imported `MoreAuthorsSection` component instead of an inline definition.\n\n// Books page moved to `src/components/Books.js`.\n// Use the imported `BooksComponent` instead of an inline definition.\n\n// BookDetail moved to `src/components/BookDetail.js`.\n// Use the imported `BookDetailComponent` instead of an inline definition.\n\n// About page kept in this file? Moved some sections to components; keep using imported components where needed.\n// (Primary About page UI is small — use the About route to render data-driven content from `author`.)\n// If you want About as its own component file, we can extract it to `src/components/About.js`.\n\n// -----------------------\n// Contact\n// -----------------------\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Contact({\n  showAlert\n}) {\n  function submit(e) {\n    e.preventDefault();\n    showAlert('Message Sent', 'Thank you for your message! This is a demo; in a production app, the message would be sent to a server.');\n    e.target.reset(); // Clear form after submission\n  }\n  return /*#__PURE__*/_jsxDEV(motion.main, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    id: \"contact\",\n    className: \"max-w-4xl mx-auto px-6 py-12\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500\",\n      children: \"Contact\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-slate-600 dark:text-slate-300 mb-8\",\n      children: \"For inquiries, collaborations or events \\u2014 drop a message.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      className: \"grid grid-cols-1 gap-5 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        placeholder: \"Name\",\n        className: \"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        className: \"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"message\",\n        placeholder: \"Message\",\n        className: \"p-3 border border-slate-300 dark:border-slate-600 rounded-lg h-36 focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\",\n        children: \"Send Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n// -----------------------\n// REMOVED: Dedicated Partners Page component\n// -----------------------\n// The component is removed as its content is moved to the Home page.\n\n// -----------------------\n// Admin Login Component\n// -----------------------\n_c = Contact;\nfunction AdminLogin({\n  loginAdmin,\n  showAlert,\n  isAdmin\n}) {\n  _s();\n  const [id, setId] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate(); // This is correctly placed inside a component wrapped by Router\n\n  useEffect(() => {\n    if (isAdmin) {\n      navigate('/admin');\n    }\n  }, [isAdmin, navigate]);\n  function handleSubmit(e) {\n    e.preventDefault();\n    (async () => {\n      const ok = await loginAdmin(id, password);\n      if (ok) showAlert('Success', 'Admin logged in successfully!');else showAlert('Login Failed', 'Invalid User ID or Password.');\n    })();\n  }\n  if (isAdmin) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/admin\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(motion.main, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    className: \"max-w-md mx-auto px-6 py-20\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500 text-center\",\n        children: \"Admin Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-sm text-slate-500 mb-6\",\n        children: \"Use credentials: admin / secret123\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"grid gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"User ID (admin)\",\n          value: id,\n          onChange: e => setId(e.target.value),\n          className: \"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password (secret123)\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: \"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"mt-2 px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n\n// Admin dashboard component has been moved to `src/components/Admin.js`.\n\n// -----------------------\n// App\n// -----------------------\n_s(AdminLogin, \"IMPuOH5oK7N3y1syeQMI6Rldmak=\", false, function () {\n  return [useNavigate];\n});\n_c2 = AdminLogin;\nexport default function App() {\n  _s2();\n  const [books, setBooks] = useLocalState('pt_books', SAMPLE_BOOKS);\n  const [author, setAuthor] = useLocalState('pt_author', SAMPLE_AUTHOR);\n  const [cart, setCart] = useLocalState('pt_cart', []);\n  const [modal, setModal] = useState({\n    isOpen: false,\n    title: '',\n    message: '',\n    onConfirm: null\n  });\n  const [isAdmin, setIsAdmin] = useLocalState('pt_is_admin', false);\n  const [adminToken, setAdminToken] = useLocalState('pt_admin_token', null);\n\n  // Admin Credentials\n  const ADMIN_ID = 'admin';\n  const ADMIN_PASSWORD = 'secret123';\n\n  // Central function to trigger the custom modal\n  function showAlert(title, message, onConfirm = null) {\n    setModal({\n      isOpen: true,\n      title,\n      message,\n      onConfirm\n    });\n  }\n  function addToCart(book) {\n    setCart(prev => [...prev, book]);\n    showAlert('Item Added', `${book.title} has been added to your cart.`);\n  }\n  function removeFromCart(idx) {\n    setCart(prev => prev.filter((_, i) => i !== idx));\n  }\n  function checkout() {\n    // This is where you would start the actual payment flow\n    showAlert('Checkout Demo', 'Implement Stripe/Razorpay checkout flow here.');\n  }\n  async function loginAdmin(id, password) {\n    try {\n      const data = await api.adminLogin(id, password);\n      if (data && data.token) {\n        setIsAdmin(true);\n        setAdminToken(data.token);\n        return true;\n      }\n    } catch (err) {\n      console.warn('Admin login failed', err.message || err);\n      return false;\n    }\n    return false;\n  }\n\n  // logoutAdmin: accepts a navigate function and optional force flag to skip confirmation\n  function logoutAdmin(navigateCallback, force = false) {\n    if (force) {\n      setIsAdmin(false);\n      setAdminToken(null);\n      try {\n        navigateCallback('/');\n      } catch (e) {}\n      return;\n    }\n    showAlert('Confirm Logout', 'Are you sure you want to log out of the Admin dashboard?', () => {\n      setIsAdmin(false);\n      setAdminToken(null);\n      navigateCallback('/'); // Call the passed navigate function\n    });\n  }\n\n  // Wrapper for Admin route access control\n  const AdminRoute = ({\n    element\n  }) => isAdmin ? element : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/admin/login\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 25\n  }, this);\n\n  // Try to load backend data if available. Falls back to localStorage/sample data.\n  useEffect(() => {\n    let mounted = true;\n    async function load() {\n      try {\n        const remoteBooks = await api.fetchBooks();\n        if (mounted && remoteBooks && Array.isArray(remoteBooks) && remoteBooks.length) {\n          setBooks(remoteBooks.map(b => ({\n            ...b,\n            id: b._id || b.id\n          }))); // normalize id\n        }\n      } catch (err) {/* ignore, backend not available */}\n      try {\n        const remoteAuthor = await api.fetchAuthor();\n        if (mounted && remoteAuthor) setAuthor(remoteAuthor);\n      } catch (err) {/* ignore */}\n    }\n    load();\n    return () => {\n      mounted = false;\n    };\n  }, []); // run once\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-[Inter]\",\n      children: [/*#__PURE__*/_jsxDEV(HeaderComponent, {\n        author: author,\n        isAdmin: isAdmin,\n        featuredBook: books && books.length ? books.find(b => b.featured) || books[0] : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        mode: \"wait\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(HomeComponent, {\n              books: books,\n              author: author,\n              showAlert: showAlert,\n              BookCard: BookCard,\n              Newsletter: Newsletter,\n              PublishersTechPartnersSection: PublishersTechPartnersSection,\n              TrustedSupportersSection: TrustedSupportersSection,\n              publishers: SAMPLE_PUBLISHERS,\n              techPartners: SAMPLE_TECH_PARTNERS,\n              supporters: SAMPLE_SUPPORTERS\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/books\",\n            element: /*#__PURE__*/_jsxDEV(BooksComponent, {\n              books: books,\n              showAlert: showAlert,\n              BookCard: BookCard,\n              Newsletter: Newsletter,\n              MoreAuthorsSection: MoreAuthorsSection,\n              authors: SAMPLE_AUTHORS_COLLAB\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/book/:id\",\n            element: /*#__PURE__*/_jsxDEV(BookDetailComponent, {\n              books: books,\n              addToCart: addToCart,\n              showAlert: showAlert,\n              BookCard: BookCard,\n              Newsletter: Newsletter,\n              reviews: SAMPLE_REVIEWS\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/about\",\n            element: /*#__PURE__*/_jsxDEV(AboutComponent, {\n              author: author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/contact\",\n            element: /*#__PURE__*/_jsxDEV(Contact, {\n              showAlert: showAlert\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/checkout\",\n            element: /*#__PURE__*/_jsxDEV(CheckoutComponent, {\n              cart: cart,\n              setCart: setCart,\n              showAlert: showAlert\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/order-success/:id\",\n            element: /*#__PURE__*/_jsxDEV(OrderSuccess, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/admin/login\",\n            element: /*#__PURE__*/_jsxDEV(AdminLogin, {\n              loginAdmin: loginAdmin,\n              showAlert: showAlert,\n              isAdmin: isAdmin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/admin\",\n            element: /*#__PURE__*/_jsxDEV(AdminRoute, {\n              element: /*#__PURE__*/_jsxDEV(AdminComponent, {\n                books: books,\n                setBooks: setBooks,\n                showAlert: showAlert,\n                logoutAdmin: logoutAdmin,\n                author: author,\n                setAuthor: setAuthor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/admin/orders\",\n            element: /*#__PURE__*/_jsxDEV(AdminRoute, {\n              element: /*#__PURE__*/_jsxDEV(OrdersAdmin, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 36\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(\"main\", {\n              className: \"max-w-4xl mx-auto px-6 py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-serif text-3xl\",\n                children: \"404 - Page Not Found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 85\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-4\",\n                children: \"The page you were looking for doesn't exist.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 146\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        author: author\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CartDrawer, {\n        cart: cart,\n        remove: removeFromCart,\n        onCheckout: checkout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        modal: modal,\n        setModal: setModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"aII/xVuWdbRVR+w8uePvd5DBFDs=\", false, function () {\n  return [useLocalState, useLocalState, useLocalState, useLocalState, useLocalState];\n});\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Contact\");\n$RefreshReg$(_c2, \"AdminLogin\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","HashRouter","Router","Routes","Route","Link","useParams","useNavigate","Navigate","motion","AnimatePresence","HeaderComponent","useLocalState","SAMPLE_BOOKS","SAMPLE_AUTHOR","SAMPLE_PUBLISHERS","SAMPLE_TECH_PARTNERS","SAMPLE_SUPPORTERS","SAMPLE_AUTHORS_COLLAB","SAMPLE_REVIEWS","HomeComponent","BooksComponent","BookDetailComponent","AdminComponent","AboutComponent","BookCard","Newsletter","PartnerCard","StarRating","Footer","CartDrawer","Modal","CheckoutComponent","OrderSuccess","OrdersAdmin","api","PublishersTechPartnersSection","TrustedSupportersSection","MoreAuthorsSection","jsxDEV","_jsxDEV","Contact","showAlert","submit","e","preventDefault","target","reset","main","initial","opacity","animate","exit","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","name","placeholder","required","type","_c","AdminLogin","loginAdmin","isAdmin","_s","setId","password","setPassword","navigate","handleSubmit","ok","to","replace","value","onChange","_c2","App","_s2","books","setBooks","author","setAuthor","cart","setCart","modal","setModal","isOpen","title","message","onConfirm","setIsAdmin","adminToken","setAdminToken","ADMIN_ID","ADMIN_PASSWORD","addToCart","book","prev","removeFromCart","idx","filter","_","i","checkout","data","adminLogin","token","err","console","warn","logoutAdmin","navigateCallback","force","AdminRoute","element","mounted","load","remoteBooks","fetchBooks","Array","isArray","length","map","b","_id","remoteAuthor","fetchAuthor","featuredBook","find","featured","mode","path","publishers","techPartners","supporters","authors","reviews","remove","onCheckout","_c3","$RefreshReg$"],"sources":["/Users/viveksingh/Desktop/book-frontend/src/App.js"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport { HashRouter as Router, Routes, Route, Link, useParams, useNavigate, Navigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n// Components split into separate files for clarity\nimport HeaderComponent from './components/Header';\nimport useLocalState from './hooks/useLocalState';\nimport {\n  SAMPLE_BOOKS,\n  SAMPLE_AUTHOR,\n  SAMPLE_PUBLISHERS,\n  SAMPLE_TECH_PARTNERS,\n  SAMPLE_SUPPORTERS,\n  SAMPLE_AUTHORS_COLLAB,\n  SAMPLE_REVIEWS\n} from './data/sampleData';\nimport HomeComponent from './components/Home';\nimport BooksComponent from './components/Books';\nimport BookDetailComponent from './components/BookDetail';\nimport AdminComponent from './components/Admin';\nimport AboutComponent from './components/About';\nimport BookCard from './components/BookCard';\nimport Newsletter from './components/Newsletter';\nimport PartnerCard from './components/PartnerCard';\nimport StarRating from './components/StarRating';\nimport Footer from './components/Footer';\nimport CartDrawer from './components/CartDrawer';\nimport Modal from './components/Modal';\nimport CheckoutComponent from './components/Checkout';\nimport OrderSuccess from './components/OrderSuccess';\nimport OrdersAdmin from './components/OrdersAdmin';\nimport api from './lib/api';\nimport PublishersTechPartnersSection from './components/PublishersTechPartnersSection';\nimport TrustedSupportersSection from './components/TrustedSupportersSection';\nimport MoreAuthorsSection from './components/MoreAuthorsSection';\n\n\n// More authors section moved to `src/components/MoreAuthorsSection.js`.\n// Use the imported `MoreAuthorsSection` component instead of an inline definition.\n\n// Books page moved to `src/components/Books.js`.\n// Use the imported `BooksComponent` instead of an inline definition.\n\n\n\n// BookDetail moved to `src/components/BookDetail.js`.\n// Use the imported `BookDetailComponent` instead of an inline definition.\n\n// About page kept in this file? Moved some sections to components; keep using imported components where needed.\n// (Primary About page UI is small — use the About route to render data-driven content from `author`.)\n// If you want About as its own component file, we can extract it to `src/components/About.js`.\n\n// -----------------------\n// Contact\n// -----------------------\nfunction Contact({ showAlert }){\n  function submit(e){\n    e.preventDefault();\n    showAlert('Message Sent', 'Thank you for your message! This is a demo; in a production app, the message would be sent to a server.');\n    e.target.reset(); // Clear form after submission\n  }\n  return (\n    <motion.main initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} id=\"contact\" className=\"max-w-4xl mx-auto px-6 py-12\">\n      <h2 className=\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500\">Contact</h2>\n      <p className=\"text-slate-600 dark:text-slate-300 mb-8\">For inquiries, collaborations or events — drop a message.</p>\n      <form onSubmit={submit} className=\"grid grid-cols-1 gap-5 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700\">\n        <input name=\"name\" placeholder=\"Name\" className=\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\" required />\n        <input type=\"email\" name=\"email\" placeholder=\"Email\" className=\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\" required />\n        <textarea name=\"message\" placeholder=\"Message\" className=\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg h-36 focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\" required />\n        <button type=\"submit\" className=\"px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\">Send Message</button>\n      </form>\n    </motion.main>\n  );\n}\n\n// -----------------------\n// REMOVED: Dedicated Partners Page component\n// -----------------------\n// The component is removed as its content is moved to the Home page.\n\n// -----------------------\n// Admin Login Component\n// -----------------------\nfunction AdminLogin({ loginAdmin, showAlert, isAdmin }) {\n  const [id, setId] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate(); // This is correctly placed inside a component wrapped by Router\n\n  useEffect(() => {\n    if (isAdmin) {\n      navigate('/admin');\n    }\n  }, [isAdmin, navigate]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    (async () => {\n      const ok = await loginAdmin(id, password);\n      if (ok) showAlert('Success', 'Admin logged in successfully!');\n      else showAlert('Login Failed', 'Invalid User ID or Password.');\n    })();\n  }\n\n  if (isAdmin) return <Navigate to=\"/admin\" replace />;\n\n  return (\n    <motion.main \n      initial={{ opacity: 0 }} \n      animate={{ opacity: 1 }} \n      exit={{ opacity: 0 }} \n      className=\"max-w-md mx-auto px-6 py-20\"\n    >\n      <div className=\"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700\">\n        <h2 className=\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500 text-center\">Admin Login</h2>\n        <p className=\"text-center text-sm text-slate-500 mb-6\">Use credentials: admin / secret123</p>\n        <form onSubmit={handleSubmit} className=\"grid gap-4\">\n          <input \n            type=\"text\" \n            placeholder=\"User ID (admin)\" \n            value={id} \n            onChange={e => setId(e.target.value)}\n            className=\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\" \n            required \n          />\n          <input \n            type=\"password\" \n            placeholder=\"Password (secret123)\" \n            value={password} \n            onChange={e => setPassword(e.target.value)}\n            className=\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\" \n            required \n          />\n          <button \n            type=\"submit\" \n            className=\"mt-2 px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\"\n          >\n            Login\n          </button>\n        </form>\n      </div>\n    </motion.main>\n  );\n}\n\n\n// Admin dashboard component has been moved to `src/components/Admin.js`.\n\n\n// -----------------------\n// App\n// -----------------------\nexport default function App(){\n  const [books, setBooks] = useLocalState('pt_books', SAMPLE_BOOKS);\n  const [author, setAuthor] = useLocalState('pt_author', SAMPLE_AUTHOR);\n  const [cart, setCart] = useLocalState('pt_cart', []);\n  const [modal, setModal] = useState({ isOpen: false, title: '', message: '', onConfirm: null });\n  const [isAdmin, setIsAdmin] = useLocalState('pt_is_admin', false);\n  const [adminToken, setAdminToken] = useLocalState('pt_admin_token', null);\n  \n  // Admin Credentials\n  const ADMIN_ID = 'admin';\n  const ADMIN_PASSWORD = 'secret123';\n\n  // Central function to trigger the custom modal\n  function showAlert(title, message, onConfirm = null) {\n    setModal({ isOpen: true, title, message, onConfirm });\n  }\n\n  function addToCart(book){\n    setCart(prev => [...prev, book]);\n    showAlert('Item Added', `${book.title} has been added to your cart.`);\n  }\n\n  function removeFromCart(idx){ setCart(prev => prev.filter((_,i)=>i!==idx)); }\n\n  function checkout(){\n    // This is where you would start the actual payment flow\n    showAlert('Checkout Demo', 'Implement Stripe/Razorpay checkout flow here.');\n  }\n\n  async function loginAdmin(id, password) {\n    try{\n      const data = await api.adminLogin(id, password);\n      if(data && data.token){\n        setIsAdmin(true);\n        setAdminToken(data.token);\n        return true;\n      }\n    }catch(err){\n      console.warn('Admin login failed', err.message || err);\n      return false;\n    }\n    return false;\n  }\n\n  // logoutAdmin: accepts a navigate function and optional force flag to skip confirmation\n  function logoutAdmin(navigateCallback, force = false) {\n    if(force){\n      setIsAdmin(false);\n      setAdminToken(null);\n      try{ navigateCallback('/'); }catch(e){}\n      return;\n    }\n    showAlert('Confirm Logout', 'Are you sure you want to log out of the Admin dashboard?', () => {\n      setIsAdmin(false);\n      setAdminToken(null);\n      navigateCallback('/'); // Call the passed navigate function\n    });\n  }\n\n  // Wrapper for Admin route access control\n  const AdminRoute = ({ element }) => (\n    isAdmin ? element : <Navigate to=\"/admin/login\" replace />\n  );\n\n  // Try to load backend data if available. Falls back to localStorage/sample data.\n  useEffect(() => {\n    let mounted = true;\n    async function load() {\n      try{\n        const remoteBooks = await api.fetchBooks();\n        if(mounted && remoteBooks && Array.isArray(remoteBooks) && remoteBooks.length) {\n          setBooks(remoteBooks.map(b => ({ ...b, id: b._id || b.id }))); // normalize id\n        }\n      }catch(err){ /* ignore, backend not available */ }\n      try{\n        const remoteAuthor = await api.fetchAuthor();\n        if(mounted && remoteAuthor) setAuthor(remoteAuthor);\n      }catch(err){ /* ignore */ }\n    }\n    load();\n    return () => { mounted = false; };\n  }, []); // run once\n\n\n  return (\n    <Router>\n      <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-[Inter]\">\n  {/* Prefer a book marked `featured`; fallback to first book */}\n  <HeaderComponent author={author} isAdmin={isAdmin} featuredBook={books && books.length ? (books.find(b => b.featured) || books[0]) : null} />\n\n        <AnimatePresence mode=\"wait\">\n          <Routes>\n            {/* Home page now contains all content */}\n            <Route path=\"/\" element={<HomeComponent books={books} author={author} showAlert={showAlert} BookCard={BookCard} Newsletter={Newsletter} PublishersTechPartnersSection={PublishersTechPartnersSection} TrustedSupportersSection={TrustedSupportersSection} publishers={SAMPLE_PUBLISHERS} techPartners={SAMPLE_TECH_PARTNERS} supporters={SAMPLE_SUPPORTERS} />} />\n            <Route path=\"/books\" element={<BooksComponent books={books} showAlert={showAlert} BookCard={BookCard} Newsletter={Newsletter} MoreAuthorsSection={MoreAuthorsSection} authors={SAMPLE_AUTHORS_COLLAB} />} />\n            {/* REMOVED: Dedicated Partners Page Route */}\n            <Route path=\"/book/:id\" element={<BookDetailComponent books={books} addToCart={addToCart} showAlert={showAlert} BookCard={BookCard} Newsletter={Newsletter} reviews={SAMPLE_REVIEWS} />} />\n            <Route path=\"/about\" element={<AboutComponent author={author} />} />\n            <Route path=\"/contact\" element={<Contact showAlert={showAlert} />} />\n            <Route path=\"/checkout\" element={<CheckoutComponent cart={cart} setCart={setCart} showAlert={showAlert} />} />\n            <Route path=\"/order-success/:id\" element={<OrderSuccess />} />\n            \n            {/* Admin Login Route */}\n            <Route path=\"/admin/login\" element={<AdminLogin loginAdmin={loginAdmin} showAlert={showAlert} isAdmin={isAdmin} />} />\n            \n            {/* Protected Admin Dashboard Route */}\n            <Route path=\"/admin\" element={\n              <AdminRoute \n                element={<AdminComponent books={books} setBooks={setBooks} showAlert={showAlert} logoutAdmin={logoutAdmin} author={author} setAuthor={setAuthor} />}\n              />\n            } />\n            {/* Admin Orders view */}\n            <Route path=\"/admin/orders\" element={\n              <AdminRoute element={<OrdersAdmin />} />\n            } />\n            \n            <Route path=\"*\" element={<main className=\"max-w-4xl mx-auto px-6 py-12\"><h2 className=\"font-serif text-3xl\">404 - Page Not Found</h2><p className=\"mt-4\">The page you were looking for doesn't exist.</p></main>} />\n          </Routes>\n        </AnimatePresence>\n\n        <Footer author={author} />\n\n        <CartDrawer cart={cart} remove={removeFromCart} onCheckout={checkout} />\n\n        <Modal modal={modal} setModal={setModal} />\n      </div>\n    </Router>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}