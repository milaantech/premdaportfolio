{"ast":null,"code":"import React from'react';import{motion,AnimatePresence}from'framer-motion';import{useNavigate}from'react-router-dom';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function useLocalState(key,initial){const[state,setState]=React.useState(()=>{try{const s=localStorage.getItem(key);return s?JSON.parse(s):initial;}catch(_unused){return initial;}});React.useEffect(()=>{try{localStorage.setItem(key,JSON.stringify(state));}catch(_unused2){}},[key,state]);return[state,setState];}function currency(n){return\"\\u20B9\".concat(Number(n).toLocaleString('en-IN'));}export default function CartDrawer(_ref){let{cart,remove,onCheckout}=_ref;const navigate=useNavigate();const total=cart.reduce((s,c)=>s+Number(c.price||0),0);const[open,setOpen]=useLocalState('ui_cart_open',false);return/*#__PURE__*/_jsxs(\"div\",{children:[cart.length>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setOpen(true),className:\"fixed right-6 bottom-6 z-50 px-5 py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-full shadow-xl font-semibold transition transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-amber-500/50\",children:[\"Cart (\",cart.length,\")\"]}),/*#__PURE__*/_jsx(AnimatePresence,{children:open&&/*#__PURE__*/_jsxs(motion.aside,{initial:{x:'100%'},animate:{x:0},exit:{x:'100%'},transition:{type:'tween',duration:0.3},className:\"fixed right-0 top-0 h-full w-full md:w-96 bg-white dark:bg-slate-800 shadow-2xl z-50 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 flex items-center justify-between border-b dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-serif text-xl\",children:\"Your Shopping Cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOpen(false),className:\"p-2 text-slate-500 hover:text-slate-900 dark:hover:text-slate-100 transition\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 overflow-y-auto flex-1\",children:cart.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-500 p-4 text-center\",children:\"No items in cart\"}):cart.map((c,i)=>{var _c$images;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 py-3 border-b border-dashed dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"img\",{src:(_c$images=c.images)===null||_c$images===void 0?void 0:_c$images[0],alt:c.title,className:\"w-12 h-18 object-cover rounded-md\",onError:e=>{e.target.onerror=null;e.target.src='https://placehold.co/100x150?text=Img';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium leading-snug\",children:c.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-500\",children:c.subtitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-amber-600 dark:text-amber-500\",children:currency(c.price)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>remove(i),className:\"text-rose-500 text-xs mt-1 hover:underline\",children:\"Remove\"})]})]},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-t dark:border-slate-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-medium\",children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-xl text-amber-600 dark:text-amber-500\",children:currency(total)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setOpen(false);navigate('/checkout');},disabled:cart.length===0,className:\"w-full px-4 py-3 bg-slate-900 hover:bg-slate-700 disabled:bg-slate-400 text-white rounded-lg font-semibold transition shadow-md\",children:\"Proceed to Checkout\"})]})]})})]});}","map":{"version":3,"names":["React","motion","AnimatePresence","useNavigate","jsxs","_jsxs","jsx","_jsx","useLocalState","key","initial","state","setState","useState","s","localStorage","getItem","JSON","parse","_unused","useEffect","setItem","stringify","_unused2","currency","n","concat","Number","toLocaleString","CartDrawer","_ref","cart","remove","onCheckout","navigate","total","reduce","c","price","open","setOpen","children","length","onClick","className","aside","x","animate","exit","transition","type","duration","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","map","i","_c$images","src","images","alt","title","onError","e","target","onerror","subtitle","disabled"],"sources":["/Users/viveksingh/Desktop/book-frontend/src/components/CartDrawer.js"],"sourcesContent":["import React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useNavigate } from 'react-router-dom';\n\nfunction useLocalState(key, initial) {\n  const [state, setState] = React.useState(() => {\n    try { const s = localStorage.getItem(key); return s ? JSON.parse(s) : initial; } catch { return initial; }\n  });\n  React.useEffect(() => { try { localStorage.setItem(key, JSON.stringify(state)); } catch {} }, [key, state]);\n  return [state, setState];\n}\n\nfunction currency(n){ return `â‚¹${Number(n).toLocaleString('en-IN')}` }\n\nexport default function CartDrawer({ cart, remove, onCheckout }){\n  const navigate = useNavigate();\n  const total = cart.reduce((s,c)=>s+Number(c.price||0),0);\n  const [open, setOpen] = useLocalState('ui_cart_open', false);\n  return (\n    <div>\n      {cart.length > 0 && (\n        <button onClick={()=>setOpen(true)} className=\"fixed right-6 bottom-6 z-50 px-5 py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-full shadow-xl font-semibold transition transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-amber-500/50\">\n          Cart ({cart.length})\n        </button>\n      )}\n\n      <AnimatePresence>\n        {open && (\n          <motion.aside\n            initial={{x:'100%'}}\n            animate={{x:0}}\n            exit={{x:'100%'}}\n            transition={{ type: 'tween', duration: 0.3 }}\n            className=\"fixed right-0 top-0 h-full w-full md:w-96 bg-white dark:bg-slate-800 shadow-2xl z-50 flex flex-col\"\n          >\n            <div className=\"p-6 flex items-center justify-between border-b dark:border-slate-700\">\n              <h4 className=\"font-serif text-xl\">Your Shopping Cart</h4>\n              <button onClick={()=>setOpen(false)} className=\"p-2 text-slate-500 hover:text-slate-900 dark:hover:text-slate-100 transition\">\n                <svg className=\"w-6 h-6\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" /></svg>\n              </button>\n            </div>\n            <div className=\"p-4 overflow-y-auto flex-1\">\n              {cart.length===0 ? <div className=\"text-sm text-slate-500 p-4 text-center\">No items in cart</div> : (\n                cart.map((c,i)=> (\n                  <div key={i} className=\"flex items-center gap-4 py-3 border-b border-dashed dark:border-slate-700\">\n                    <img src={c.images?.[0]} alt={c.title} className=\"w-12 h-18 object-cover rounded-md\" onError={(e) => {e.target.onerror = null; e.target.src='https://placehold.co/100x150?text=Img';}} />\n                    <div className=\"flex-1\">\n                      <div className=\"font-medium leading-snug\">{c.title}</div>\n                      <div className=\"text-xs text-slate-500\">{c.subtitle}</div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"font-semibold text-amber-600 dark:text-amber-500\">{currency(c.price)}</div>\n                      <button onClick={()=>remove(i)} className=\"text-rose-500 text-xs mt-1 hover:underline\">Remove</button>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n            <div className=\"p-6 border-t dark:border-slate-700\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"text-lg font-medium\">Subtotal</div>\n                <div className=\"font-bold text-xl text-amber-600 dark:text-amber-500\">{currency(total)}</div>\n              </div>\n              <button onClick={() => { setOpen(false); navigate('/checkout'); }} disabled={cart.length === 0} className=\"w-full px-4 py-3 bg-slate-900 hover:bg-slate-700 disabled:bg-slate-400 text-white rounded-lg font-semibold transition shadow-md\">\n                Proceed to Checkout\n              </button>\n            </div>\n          </motion.aside>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}