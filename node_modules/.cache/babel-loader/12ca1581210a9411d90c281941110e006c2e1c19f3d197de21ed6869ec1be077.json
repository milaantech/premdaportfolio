{"ast":null,"code":"import _objectSpread from\"/Users/viveksingh/Desktop/book-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{HashRouter as Router,Routes,Route,Link,useParams,useNavigate,Navigate}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';// Components split into separate files for clarity\nimport HeaderComponent from'./components/Header';import HomeComponent from'./components/Home';import BooksComponent from'./components/Books';import BookDetailComponent from'./components/BookDetail';import AdminComponent from'./components/Admin';import BookCard from'./components/BookCard';import Newsletter from'./components/Newsletter';import PartnerCard from'./components/PartnerCard';import StarRating from'./components/StarRating';import Footer from'./components/Footer';import CartDrawer from'./components/CartDrawer';import Modal from'./components/Modal';import PublishersTechPartnersSection from'./components/PublishersTechPartnersSection';import TrustedSupportersSection from'./components/TrustedSupportersSection';import MoreAuthorsSection from'./components/MoreAuthorsSection';// More authors section moved to `src/components/MoreAuthorsSection.js`.\n// Use the imported `MoreAuthorsSection` component instead of an inline definition.\n// Books page moved to `src/components/Books.js`.\n// Use the imported `BooksComponent` instead of an inline definition.\n// BookDetail moved to `src/components/BookDetail.js`.\n// Use the imported `BookDetailComponent` instead of an inline definition.\n// About page kept in this file? Moved some sections to components; keep using imported components where needed.\n// (Primary About page UI is small — use the About route to render data-driven content from `author`.)\n// If you want About as its own component file, we can extract it to `src/components/About.js`.\n// -----------------------\n// Contact\n// -----------------------\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Contact(_ref){let{showAlert}=_ref;function submit(e){e.preventDefault();showAlert('Message Sent','Thank you for your message! This is a demo; in a production app, the message would be sent to a server.');e.target.reset();// Clear form after submission\n}return/*#__PURE__*/_jsxs(motion.main,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},id:\"contact\",className:\"max-w-4xl mx-auto px-6 py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600 dark:text-slate-300 mb-8\",children:\"For inquiries, collaborations or events \\u2014 drop a message.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:\"grid grid-cols-1 gap-5 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",placeholder:\"Name\",className:\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",className:\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",placeholder:\"Message\",className:\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg h-36 focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\",children:\"Send Message\"})]})]});}// -----------------------\n// REMOVED: Dedicated Partners Page component\n// -----------------------\n// The component is removed as its content is moved to the Home page.\n// -----------------------\n// Admin Login Component\n// -----------------------\nfunction AdminLogin(_ref2){let{loginAdmin,showAlert,isAdmin}=_ref2;const[id,setId]=useState('');const[password,setPassword]=useState('');const navigate=useNavigate();// This is correctly placed inside a component wrapped by Router\nuseEffect(()=>{if(isAdmin){navigate('/admin');}},[isAdmin,navigate]);function handleSubmit(e){e.preventDefault();if(loginAdmin(id,password)){showAlert('Success','Admin logged in successfully!');}else{showAlert('Login Failed','Invalid User ID or Password.');}}if(isAdmin)return/*#__PURE__*/_jsx(Navigate,{to:\"/admin\",replace:true});return/*#__PURE__*/_jsx(motion.main,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"max-w-md mx-auto px-6 py-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500 text-center\",children:\"Admin Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-sm text-slate-500 mb-6\",children:\"Use credentials: admin / secret123\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"grid gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User ID (admin)\",value:id,onChange:e=>setId(e.target.value),className:\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password (secret123)\",value:password,onChange:e=>setPassword(e.target.value),className:\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mt-2 px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\",children:\"Login\"})]})]})});}// -----------------------\n// Admin Dashboard Component\n// -----------------------\nfunction Admin(_ref3){var _form$images,_authorForm$social,_authorForm$social2,_authorForm$social3;let{books,setBooks,showAlert,logoutAdmin,author,setAuthor}=_ref3;const navigate=useNavigate();const[editing,setEditing]=useState(null);// Get unique genres for suggestion purposes\nconst existingGenres=[...new Set(books.map(b=>b.genre).filter(g=>g))].sort();// --- About Page / Author editor state ---\nconst emptyAuthorForm={name:'',tagline:'',bio:'',avatar:'',social:{instagram:'',goodreads:'',twitter:''},stats:[]};const[authorForm,setAuthorForm]=useState(author||emptyAuthorForm);useEffect(()=>{// Sync local form with current author prop when it changes\nsetAuthorForm(author||emptyAuthorForm);},[author]);function handleSocialChange(key,value){setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{social:_objectSpread(_objectSpread({},prev.social),{},{[key]:value})}));}function handleStatChange(index,field,value){const newStats=[...(authorForm.stats||[])];newStats[index]=_objectSpread(_objectSpread({},newStats[index]),{},{[field]:value});setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{stats:newStats}));}function addStat(){setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{stats:[...(prev.stats||[]),{label:'',value:''}]}));}function removeStat(index){setAuthorForm(prev=>_objectSpread(_objectSpread({},prev),{},{stats:prev.stats.filter((_,i)=>i!==index)}));}function saveAuthor(){if(!authorForm.name||!authorForm.bio)return showAlert('Validation Error','Author Name and Bio are required.');// Ensure stats values exist and are strings\nconst cleanedStats=(authorForm.stats||[]).map(s=>({label:(s.label||'').trim(),value:(s.value||'').toString().trim()})).filter(s=>s.label||s.value);const newAuthor=_objectSpread(_objectSpread({},authorForm),{},{stats:cleanedStats});setAuthor(newAuthor);showAlert('Saved','About page content updated successfully.');}const empty={title:'',subtitle:'',price:'',images:['https://placehold.co/800x1200?text=New+Book+Cover'],// Single default placeholder\ndescription:'',genre:'',pages:0,isbn:'',pubDate:new Date().toISOString().slice(0,10)};const[form,setForm]=useState(empty);useEffect(()=>{if(editing){// Ensure 'images' is an array when setting the form state from existing data\nsetForm(_objectSpread(_objectSpread({},editing),{},{images:editing.images||[empty.images[0]]}));}else{setForm(empty);}},[editing]);function handleImageChange(index,value){const newImages=[...form.images];newImages[index]=value;// Only update the form state with the new array\nsetForm(_objectSpread(_objectSpread({},form),{},{images:newImages}));}function addImage(){// Add an empty string for the new URL input\nsetForm(_objectSpread(_objectSpread({},form),{},{images:[...form.images,'']}));}function removeImage(index){if(form.images.length===1){return showAlert('Error','A book must have at least one image (the primary cover).');}const newImages=form.images.filter((_,i)=>i!==index);setForm(_objectSpread(_objectSpread({},form),{},{images:newImages}));}function save(){// Filter out empty/whitespace images before validation/saving\nconst cleanedImages=form.images.filter(img=>img&&img.trim());// basic validation\nif(!form.title||!form.price||!form.genre)return showAlert('Validation Error','Book Title, Price, and Genre are required.');if(cleanedImages.length===0)return showAlert('Validation Error','At least one cover image URL is required.');const newBook=_objectSpread(_objectSpread({},form),{},{images:cleanedImages,// Use cleaned array\nprice:Number(form.price),pages:Number(form.pages)});if(editing){setBooks(prev=>prev.map(b=>b.id===editing.id?_objectSpread(_objectSpread({},newBook),{},{id:editing.id}):b));setEditing(null);}else{setBooks(prev=>[_objectSpread(_objectSpread({},newBook),{},{id:\"b\".concat(Date.now())}),...prev]);setForm(empty);}}function remove(id){showAlert('Confirm Deletion','Are you sure you want to delete this book? This action cannot be undone.',()=>{setBooks(prev=>prev.filter(b=>b.id!==id));});}const previewImage=((_form$images=form.images)===null||_form$images===void 0?void 0:_form$images[0])||'https://placehold.co/400x600?text=Cover';return/*#__PURE__*/_jsxs(motion.main,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"max-w-7xl mx-auto px-6 py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-serif text-3xl mb-6 text-amber-600 dark:text-amber-500\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl mb-4 font-semibold\",children:[\"Book List (\",books.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:books.map(b=>{var _b$images;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-between shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:(_b$images=b.images)===null||_b$images===void 0?void 0:_b$images[0],alt:b.title,className:\"w-16 h-24 object-cover rounded-md shadow-md\",onError:e=>{e.target.onerror=null;e.target.src='https://placehold.co/400x600?text=Img';}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-lg\",children:b.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-slate-500\",children:[b.genre,\" \\u2022 \",currency(b.price)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditing(b),className:\"px-4 py-2 border border-amber-500 text-amber-600 dark:text-amber-500 rounded-lg hover:bg-amber-50 transition text-sm\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>remove(b.id),className:\"px-4 py-2 border border-rose-500 text-rose-500 rounded-lg hover:bg-rose-50 transition text-sm\",children:\"Delete\"})]})]},b.id);})})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"p-6 border border-slate-300 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800 shadow-lg h-fit sticky top-20\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:editing?'Edit Book':'Add New Book'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{value:form.title,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{title:e.target.value})),placeholder:\"Title\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.subtitle,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{subtitle:e.target.value})),placeholder:\"Subtitle\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.price,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{price:e.target.value})),placeholder:\"Price (\\u20B9)\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.genre,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{genre:e.target.value})),placeholder:\"Genre (e.g., Fiction, Poetry, Thriller)\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",list:\"genre-suggestions\",required:true}),/*#__PURE__*/_jsx(\"datalist\",{id:\"genre-suggestions\",children:existingGenres.map(genre=>/*#__PURE__*/_jsx(\"option\",{value:genre},genre))}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.pages,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{pages:e.target.value})),placeholder:\"Pages\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{value:form.isbn,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{isbn:e.target.value})),placeholder:\"ISBN\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.pubDate,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{pubDate:e.target.value})),placeholder:\"Publication Date\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.description,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{description:e.target.value})),placeholder:\"Description\",className:\"p-3 border rounded-lg w-full h-32 dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pt-3 font-semibold text-sm text-slate-500 dark:text-slate-400\",children:\"Book Images (First is Cover)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[form.images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:image,onChange:e=>handleImageChange(index,e.target.value),placeholder:index===0?\"Primary Cover URL (Required)\":\"Image URL \".concat(index+1),className:\"p-3 border rounded-lg w-full dark:bg-slate-900\",required:index===0// Primary cover is required\n}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeImage(index),className:\"px-3 py-1 rounded-lg transition text-white \".concat(index===0?'bg-slate-400 cursor-not-allowed':'bg-rose-500 hover:bg-rose-700'),disabled:index===0,type:\"button\",title:index===0?\"Cannot remove primary cover\":\"Remove Image\",children:\"\\u2715\"})]},index)),/*#__PURE__*/_jsxs(\"button\",{onClick:addImage,className:\"inline-flex items-center gap-2 px-3 py-2 bg-slate-900 hover:bg-slate-700 text-white rounded-lg transition\",type:\"button\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})}),\"Add Image\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:save,className:\"px-5 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold transition\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditing(null);setForm(empty);},className:\"px-5 py-2 border border-slate-400 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition\",children:editing?'Cancel Edit':'Clear Form'})]}),form.title&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-semibold text-lg mb-3\",children:\"Live Card Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border border-slate-300 dark:border-slate-700 rounded-xl flex gap-4 items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:previewImage,alt:\"preview\",className:\"w-16 h-24 object-cover rounded-md shadow\",onError:e=>{e.target.onerror=null;e.target.src='https://placehold.co/400x600?text=Cover Not Found';}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg\",children:form.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-slate-500\",children:[form.genre,\" \\u2022 \",form.pages||'??',\" pages\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-amber-600 font-semibold mt-1\",children:currency(form.price||0)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-3\",children:\"About Page Editor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{value:authorForm.name,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{name:e.target.value})),placeholder:\"Author Name\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{value:authorForm.tagline,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{tagline:e.target.value})),placeholder:\"Tagline\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{value:authorForm.avatar,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{avatar:e.target.value})),placeholder:\"Avatar URL\",className:\"p-3 border rounded-lg w-full dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"textarea\",{value:authorForm.bio,onChange:e=>setAuthorForm(_objectSpread(_objectSpread({},authorForm),{},{bio:e.target.value})),placeholder:\"Short Bio\",className:\"p-3 border rounded-lg w-full h-28 dark:bg-slate-900\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-500 mb-2\",children:\"Social Links\"}),/*#__PURE__*/_jsx(\"input\",{value:((_authorForm$social=authorForm.social)===null||_authorForm$social===void 0?void 0:_authorForm$social.instagram)||'',onChange:e=>handleSocialChange('instagram',e.target.value),placeholder:\"Instagram URL\",className:\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\"}),/*#__PURE__*/_jsx(\"input\",{value:((_authorForm$social2=authorForm.social)===null||_authorForm$social2===void 0?void 0:_authorForm$social2.goodreads)||'',onChange:e=>handleSocialChange('goodreads',e.target.value),placeholder:\"Goodreads URL\",className:\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\"}),/*#__PURE__*/_jsx(\"input\",{value:((_authorForm$social3=authorForm.social)===null||_authorForm$social3===void 0?void 0:_authorForm$social3.twitter)||'',onChange:e=>handleSocialChange('twitter',e.target.value),placeholder:\"Twitter URL\",className:\"p-2 border rounded-lg w-full dark:bg-slate-900\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-500\",children:\"Milestones / Stats\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addStat,type:\"button\",className:\"px-2 py-1 bg-slate-900 text-white rounded text-sm\",children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:(authorForm.stats||[]).map((s,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:s.label,onChange:e=>handleStatChange(idx,'label',e.target.value),placeholder:\"Label (e.g., Books Published)\",className:\"p-2 border rounded-lg w-1/2 dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"input\",{value:s.value,onChange:e=>handleStatChange(idx,'value',e.target.value),placeholder:\"Value (e.g., 7)\",className:\"p-2 border rounded-lg w-1/3 dark:bg-slate-900\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeStat(idx),type:\"button\",className:\"px-2 py-1 bg-rose-500 text-white rounded\",children:\"\\u2715\"})]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveAuthor,className:\"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold\",children:\"Save About\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAuthorForm(author||emptyAuthorForm),className:\"px-4 py-2 border rounded-lg\",children:\"Reset\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>logoutAdmin(navigate),className:\"w-full px-5 py-2 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-semibold transition shadow-md\",children:\"Logout Admin\"})})]})]})]});}// -----------------------\n// App\n// -----------------------\nexport default function App(){const[books,setBooks]=useLocalState('pt_books',SAMPLE_BOOKS);const[author,setAuthor]=useLocalState('pt_author',SAMPLE_AUTHOR);const[cart,setCart]=useLocalState('pt_cart',[]);const[modal,setModal]=useState({isOpen:false,title:'',message:'',onConfirm:null});const[isAdmin,setIsAdmin]=useLocalState('pt_is_admin',false);// Admin Credentials\nconst ADMIN_ID='admin';const ADMIN_PASSWORD='secret123';// Central function to trigger the custom modal\nfunction showAlert(title,message){let onConfirm=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;setModal({isOpen:true,title,message,onConfirm});}function addToCart(book){setCart(prev=>[...prev,book]);showAlert('Item Added',\"\".concat(book.title,\" has been added to your cart.\"));}function removeFromCart(idx){setCart(prev=>prev.filter((_,i)=>i!==idx));}function checkout(){// This is where you would start the actual payment flow\nshowAlert('Checkout Demo','Implement Stripe/Razorpay checkout flow here.');}function loginAdmin(id,password){if(id===ADMIN_ID&&password===ADMIN_PASSWORD){setIsAdmin(true);return true;}return false;}// MODIFIED: logoutAdmin now accepts a navigate function from the calling component\nfunction logoutAdmin(navigateCallback){showAlert('Confirm Logout','Are you sure you want to log out of the Admin dashboard?',()=>{setIsAdmin(false);navigateCallback('/');// Call the passed navigate function\n});}// Wrapper for Admin route access control\nconst AdminRoute=_ref4=>{let{element}=_ref4;return isAdmin?element:/*#__PURE__*/_jsx(Navigate,{to:\"/admin/login\",replace:true});};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-[Inter]\",children:[/*#__PURE__*/_jsx(HeaderComponent,{author:author,isAdmin:isAdmin}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomeComponent,{books:books,author:author,showAlert:showAlert,BookCard:BookCard,Newsletter:Newsletter,PublishersTechPartnersSection:PublishersTechPartnersSection,TrustedSupportersSection:TrustedSupportersSection,publishers:SAMPLE_PUBLISHERS,techPartners:SAMPLE_TECH_PARTNERS,supporters:SAMPLE_SUPPORTERS})}),/*#__PURE__*/_jsx(Route,{path:\"/books\",element:/*#__PURE__*/_jsx(BooksComponent,{books:books,showAlert:showAlert,BookCard:BookCard,Newsletter:Newsletter,MoreAuthorsSection:MoreAuthorsSection,authors:SAMPLE_AUTHORS_COLLAB})}),/*#__PURE__*/_jsx(Route,{path:\"/book/:id\",element:/*#__PURE__*/_jsx(BookDetailComponent,{books:books,addToCart:addToCart,showAlert:showAlert,BookCard:BookCard,Newsletter:Newsletter,reviews:SAMPLE_REVIEWS})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{author:author})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{showAlert:showAlert})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/login\",element:/*#__PURE__*/_jsx(AdminLogin,{loginAdmin:loginAdmin,showAlert:showAlert,isAdmin:isAdmin})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{element:/*#__PURE__*/_jsx(AdminComponent,{books:books,setBooks:setBooks,showAlert:showAlert,logoutAdmin:logoutAdmin,author:author,setAuthor:setAuthor})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-4xl mx-auto px-6 py-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-serif text-3xl\",children:\"404 - Page Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4\",children:\"The page you were looking for doesn't exist.\"})]})})]})}),/*#__PURE__*/_jsx(Footer,{author:author}),/*#__PURE__*/_jsx(CartDrawer,{cart:cart,remove:removeFromCart,onCheckout:checkout}),/*#__PURE__*/_jsx(Modal,{modal:modal,setModal:setModal})]})});}","map":{"version":3,"names":["React","useState","useEffect","useRef","HashRouter","Router","Routes","Route","Link","useParams","useNavigate","Navigate","motion","AnimatePresence","HeaderComponent","HomeComponent","BooksComponent","BookDetailComponent","AdminComponent","BookCard","Newsletter","PartnerCard","StarRating","Footer","CartDrawer","Modal","PublishersTechPartnersSection","TrustedSupportersSection","MoreAuthorsSection","jsx","_jsx","jsxs","_jsxs","Contact","_ref","showAlert","submit","e","preventDefault","target","reset","main","initial","opacity","animate","exit","id","className","children","onSubmit","name","placeholder","required","type","AdminLogin","_ref2","loginAdmin","isAdmin","setId","password","setPassword","navigate","handleSubmit","to","replace","value","onChange","Admin","_ref3","_form$images","_authorForm$social","_authorForm$social2","_authorForm$social3","books","setBooks","logoutAdmin","author","setAuthor","editing","setEditing","existingGenres","Set","map","b","genre","filter","g","sort","emptyAuthorForm","tagline","bio","avatar","social","instagram","goodreads","twitter","stats","authorForm","setAuthorForm","handleSocialChange","key","prev","_objectSpread","handleStatChange","index","field","newStats","addStat","label","removeStat","_","i","saveAuthor","cleanedStats","s","trim","toString","newAuthor","empty","title","subtitle","price","images","description","pages","isbn","pubDate","Date","toISOString","slice","form","setForm","handleImageChange","newImages","addImage","removeImage","length","save","cleanedImages","img","newBook","Number","concat","now","remove","previewImage","_b$images","src","alt","onError","onerror","currency","onClick","list","image","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","idx","App","useLocalState","SAMPLE_BOOKS","SAMPLE_AUTHOR","cart","setCart","modal","setModal","isOpen","message","onConfirm","setIsAdmin","ADMIN_ID","ADMIN_PASSWORD","arguments","undefined","addToCart","book","removeFromCart","checkout","navigateCallback","AdminRoute","_ref4","element","mode","path","publishers","SAMPLE_PUBLISHERS","techPartners","SAMPLE_TECH_PARTNERS","supporters","SAMPLE_SUPPORTERS","authors","SAMPLE_AUTHORS_COLLAB","reviews","SAMPLE_REVIEWS","About","onCheckout"],"sources":["/Users/viveksingh/Desktop/book-frontend/src/App.js"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport { HashRouter as Router, Routes, Route, Link, useParams, useNavigate, Navigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n// Components split into separate files for clarity\nimport HeaderComponent from './components/Header';\nimport HomeComponent from './components/Home';\nimport BooksComponent from './components/Books';\nimport BookDetailComponent from './components/BookDetail';\nimport AdminComponent from './components/Admin';\nimport BookCard from './components/BookCard';\nimport Newsletter from './components/Newsletter';\nimport PartnerCard from './components/PartnerCard';\nimport StarRating from './components/StarRating';\nimport Footer from './components/Footer';\nimport CartDrawer from './components/CartDrawer';\nimport Modal from './components/Modal';\nimport PublishersTechPartnersSection from './components/PublishersTechPartnersSection';\nimport TrustedSupportersSection from './components/TrustedSupportersSection';\nimport MoreAuthorsSection from './components/MoreAuthorsSection';\n\n\n// More authors section moved to `src/components/MoreAuthorsSection.js`.\n// Use the imported `MoreAuthorsSection` component instead of an inline definition.\n\n// Books page moved to `src/components/Books.js`.\n// Use the imported `BooksComponent` instead of an inline definition.\n\n\n\n// BookDetail moved to `src/components/BookDetail.js`.\n// Use the imported `BookDetailComponent` instead of an inline definition.\n\n// About page kept in this file? Moved some sections to components; keep using imported components where needed.\n// (Primary About page UI is small — use the About route to render data-driven content from `author`.)\n// If you want About as its own component file, we can extract it to `src/components/About.js`.\n\n// -----------------------\n// Contact\n// -----------------------\nfunction Contact({ showAlert }){\n  function submit(e){\n    e.preventDefault();\n    showAlert('Message Sent', 'Thank you for your message! This is a demo; in a production app, the message would be sent to a server.');\n    e.target.reset(); // Clear form after submission\n  }\n  return (\n    <motion.main initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} id=\"contact\" className=\"max-w-4xl mx-auto px-6 py-12\">\n      <h2 className=\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500\">Contact</h2>\n      <p className=\"text-slate-600 dark:text-slate-300 mb-8\">For inquiries, collaborations or events — drop a message.</p>\n      <form onSubmit={submit} className=\"grid grid-cols-1 gap-5 bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700\">\n        <input name=\"name\" placeholder=\"Name\" className=\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\" required />\n        <input type=\"email\" name=\"email\" placeholder=\"Email\" className=\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\" required />\n        <textarea name=\"message\" placeholder=\"Message\" className=\"p-3 border border-slate-300 dark:border-slate-600 rounded-lg h-36 focus:ring-amber-500 focus:border-amber-500 dark:bg-slate-900\" required />\n        <button type=\"submit\" className=\"px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\">Send Message</button>\n      </form>\n    </motion.main>\n  );\n}\n\n// -----------------------\n// REMOVED: Dedicated Partners Page component\n// -----------------------\n// The component is removed as its content is moved to the Home page.\n\n// -----------------------\n// Admin Login Component\n// -----------------------\nfunction AdminLogin({ loginAdmin, showAlert, isAdmin }) {\n  const [id, setId] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate(); // This is correctly placed inside a component wrapped by Router\n\n  useEffect(() => {\n    if (isAdmin) {\n      navigate('/admin');\n    }\n  }, [isAdmin, navigate]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (loginAdmin(id, password)) {\n      showAlert('Success', 'Admin logged in successfully!');\n    } else {\n      showAlert('Login Failed', 'Invalid User ID or Password.');\n    }\n  }\n\n  if (isAdmin) return <Navigate to=\"/admin\" replace />;\n\n  return (\n    <motion.main \n      initial={{ opacity: 0 }} \n      animate={{ opacity: 1 }} \n      exit={{ opacity: 0 }} \n      className=\"max-w-md mx-auto px-6 py-20\"\n    >\n      <div className=\"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700\">\n        <h2 className=\"font-serif text-3xl mb-4 text-amber-600 dark:text-amber-500 text-center\">Admin Login</h2>\n        <p className=\"text-center text-sm text-slate-500 mb-6\">Use credentials: admin / secret123</p>\n        <form onSubmit={handleSubmit} className=\"grid gap-4\">\n          <input \n            type=\"text\" \n            placeholder=\"User ID (admin)\" \n            value={id} \n            onChange={e => setId(e.target.value)}\n            className=\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\" \n            required \n          />\n          <input \n            type=\"password\" \n            placeholder=\"Password (secret123)\" \n            value={password} \n            onChange={e => setPassword(e.target.value)}\n            className=\"p-3 border rounded-lg w-full dark:bg-slate-900 focus:ring-amber-500 focus:border-amber-500\" \n            required \n          />\n          <button \n            type=\"submit\" \n            className=\"mt-2 px-6 py-3 bg-slate-900 hover:bg-slate-700 text-white rounded-lg font-semibold transition shadow-md\"\n          >\n            Login\n          </button>\n        </form>\n      </div>\n    </motion.main>\n  );\n}\n\n\n// -----------------------\n// Admin Dashboard Component\n// -----------------------\nfunction Admin({books, setBooks, showAlert, logoutAdmin, author, setAuthor}){\n  const navigate = useNavigate(); \n  const [editing, setEditing] = useState(null);\n  \n  // Get unique genres for suggestion purposes\n  const existingGenres = [...new Set(books.map(b => b.genre).filter(g => g))].sort();\n\n  // --- About Page / Author editor state ---\n  const emptyAuthorForm = {\n    name: '',\n    tagline: '',\n    bio: '',\n    avatar: '',\n    social: { instagram: '', goodreads: '', twitter: '' },\n    stats: []\n  };\n\n  const [authorForm, setAuthorForm] = useState(author || emptyAuthorForm);\n\n  useEffect(() => {\n    // Sync local form with current author prop when it changes\n    setAuthorForm(author || emptyAuthorForm);\n  }, [author]);\n\n  function handleSocialChange(key, value) {\n    setAuthorForm(prev => ({ ...prev, social: { ...prev.social, [key]: value } }));\n  }\n\n  function handleStatChange(index, field, value) {\n    const newStats = [...(authorForm.stats || [])];\n    newStats[index] = { ...newStats[index], [field]: value };\n    setAuthorForm(prev => ({ ...prev, stats: newStats }));\n  }\n\n  function addStat() {\n    setAuthorForm(prev => ({ ...prev, stats: [ ...(prev.stats || []), { label: '', value: '' } ] }));\n  }\n\n  function removeStat(index) {\n    setAuthorForm(prev => ({ ...prev, stats: prev.stats.filter((_, i) => i !== index) }));\n  }\n\n  function saveAuthor() {\n    if (!authorForm.name || !authorForm.bio) return showAlert('Validation Error', 'Author Name and Bio are required.');\n    // Ensure stats values exist and are strings\n    const cleanedStats = (authorForm.stats || []).map(s => ({ label: (s.label||'').trim(), value: (s.value||'').toString().trim() })).filter(s => s.label || s.value);\n    const newAuthor = { ...authorForm, stats: cleanedStats };\n    setAuthor(newAuthor);\n    showAlert('Saved', 'About page content updated successfully.');\n  }\n\n  const empty = {\n    title:'', subtitle:'', price:'',\n    images: ['https://placehold.co/800x1200?text=New+Book+Cover'], // Single default placeholder\n    description:'', genre:'', pages:0, isbn:'', pubDate: new Date().toISOString().slice(0, 10)\n  };\n  const [form, setForm] = useState(empty);\n\n  useEffect(()=>{\n    if(editing) {\n      // Ensure 'images' is an array when setting the form state from existing data\n      setForm({...editing, images: editing.images || [empty.images[0]]});\n    } else {\n      setForm(empty);\n    }\n  }, [editing]);\n\n  function handleImageChange(index, value) {\n    const newImages = [...form.images];\n    newImages[index] = value;\n    // Only update the form state with the new array\n    setForm({...form, images: newImages });\n  }\n\n  function addImage() {\n    // Add an empty string for the new URL input\n    setForm({...form, images: [...form.images, ''] });\n  }\n\n  function removeImage(index) {\n    if (form.images.length === 1) {\n      return showAlert('Error', 'A book must have at least one image (the primary cover).');\n    }\n    const newImages = form.images.filter((_, i) => i !== index);\n    setForm({...form, images: newImages });\n  }\n\n  function save(){\n    // Filter out empty/whitespace images before validation/saving\n    const cleanedImages = form.images.filter(img => img && img.trim());\n\n    // basic validation\n    if(!form.title || !form.price || !form.genre) return showAlert('Validation Error', 'Book Title, Price, and Genre are required.');\n    if(cleanedImages.length === 0) return showAlert('Validation Error', 'At least one cover image URL is required.');\n\n    const newBook = {\n      ...form,\n      images: cleanedImages, // Use cleaned array\n      price: Number(form.price),\n      pages: Number(form.pages)\n    };\n\n    if(editing){\n      setBooks(prev => prev.map(b => b.id === editing.id ? {...newBook, id: editing.id} : b));\n      setEditing(null);\n    }\n    else {\n      setBooks(prev => [{...newBook, id:`b${Date.now()}`}, ...prev]);\n      setForm(empty);\n    }\n  }\n\n  function remove(id){\n    showAlert('Confirm Deletion', 'Are you sure you want to delete this book? This action cannot be undone.', () => {\n        setBooks(prev => prev.filter(b=>b.id!==id));\n    });\n  }\n\n  const previewImage = form.images?.[0] || 'https://placehold.co/400x600?text=Cover';\n\n  return (\n    <motion.main initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"max-w-7xl mx-auto px-6 py-12\">\n      <h2 className=\"font-serif text-3xl mb-6 text-amber-600 dark:text-amber-500\">Admin Dashboard</h2>\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <div className=\"lg:col-span-2\">\n          <h3 className=\"text-xl mb-4 font-semibold\">Book List ({books.length})</h3>\n          <div className=\"grid gap-4\">\n            {books.map(b=> (\n              <div key={b.id} className=\"p-4 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-between shadow-sm\">\n                <div className=\"flex items-center gap-4\">\n                  <img src={b.images?.[0]} alt={b.title} className=\"w-16 h-24 object-cover rounded-md shadow-md\" onError={(e) => {e.target.onerror = null; e.target.src='https://placehold.co/400x600?text=Img'}}/>\n                  <div>\n                    <div className=\"font-semibold text-lg\">{b.title}</div>\n                    <div className=\"text-sm text-slate-500\">{b.genre} • {currency(b.price)}</div>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button onClick={()=>setEditing(b)} className=\"px-4 py-2 border border-amber-500 text-amber-600 dark:text-amber-500 rounded-lg hover:bg-amber-50 transition text-sm\">Edit</button>\n                  <button onClick={()=>remove(b.id)} className=\"px-4 py-2 border border-rose-500 text-rose-500 rounded-lg hover:bg-rose-50 transition text-sm\">Delete</button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <aside className=\"p-6 border border-slate-300 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800 shadow-lg h-fit sticky top-20\">\n          <h3 className=\"text-xl font-semibold mb-4\">{editing? 'Edit Book' : 'Add New Book'}</h3>\n          <div className=\"space-y-3\">\n            <input value={form.title} onChange={e=>setForm({...form, title:e.target.value})} placeholder=\"Title\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" required />\n            <input value={form.subtitle} onChange={e=>setForm({...form, subtitle:e.target.value})} placeholder=\"Subtitle\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <input type=\"number\" value={form.price} onChange={e=>setForm({...form, price:e.target.value})} placeholder=\"Price (₹)\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" required />\n            \n            {/* Genre Input (Admin Update) */}\n            <input \n                value={form.genre} \n                onChange={e=>setForm({...form, genre:e.target.value})} \n                placeholder=\"Genre (e.g., Fiction, Poetry, Thriller)\" \n                className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" \n                list=\"genre-suggestions\"\n                required\n            />\n            <datalist id=\"genre-suggestions\">\n                {existingGenres.map(genre => <option key={genre} value={genre} />)}\n            </datalist>\n\n            <input type=\"number\" value={form.pages} onChange={e=>setForm({...form, pages:e.target.value})} placeholder=\"Pages\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <input value={form.isbn} onChange={e=>setForm({...form, isbn:e.target.value})} placeholder=\"ISBN\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <input type=\"date\" value={form.pubDate} onChange={e=>setForm({...form, pubDate:e.target.value})} placeholder=\"Publication Date\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n            <textarea value={form.description} onChange={e=>setForm({...form, description:e.target.value})} placeholder=\"Description\" className=\"p-3 border rounded-lg w-full h-32 dark:bg-slate-900\" />\n\n            {/* --- Multiple Image Input Section --- */}\n            <h4 className=\"pt-3 font-semibold text-sm text-slate-500 dark:text-slate-400\">Book Images (First is Cover)</h4>\n            <div className=\"space-y-3\">\n              {form.images.map((image, index) => (\n                <div key={index} className=\"flex gap-2\">\n                  <input\n                    value={image}\n                    onChange={e => handleImageChange(index, e.target.value)}\n                    placeholder={index === 0 ? \"Primary Cover URL (Required)\" : `Image URL ${index + 1}`}\n                    className=\"p-3 border rounded-lg w-full dark:bg-slate-900\"\n                    required={index === 0} // Primary cover is required\n                  />\n                  <button\n                    onClick={() => removeImage(index)}\n                    className={`px-3 py-1 rounded-lg transition text-white ${index === 0 ? 'bg-slate-400 cursor-not-allowed' : 'bg-rose-500 hover:bg-rose-700'}`}\n                    disabled={index === 0}\n                    type=\"button\"\n                    title={index === 0 ? \"Cannot remove primary cover\" : \"Remove Image\"}\n                  >\n                    ✕\n                  </button>\n                </div>\n              ))}\n              <button onClick={addImage} className=\"inline-flex items-center gap-2 px-3 py-2 bg-slate-900 hover:bg-slate-700 text-white rounded-lg transition\" type=\"button\">\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"/></svg>\n                Add Image\n              </button>\n            </div>\n            {/* ------------------------------------- */}\n          </div>\n          <div className=\"flex gap-3 mt-4\">\n            <button onClick={save} className=\"px-5 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold transition\">Save</button>\n            <button onClick={()=>{ setEditing(null); setForm(empty); }} className=\"px-5 py-2 border border-slate-400 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition\">\n              {editing ? 'Cancel Edit' : 'Clear Form'}\n            </button>\n          </div>\n\n          {/* Preview */}\n          {form.title && (\n            <div className=\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\">\n              <h5 className=\"font-semibold text-lg mb-3\">Live Card Preview</h5>\n              <div className=\"p-3 border border-slate-300 dark:border-slate-700 rounded-xl flex gap-4 items-center\">\n                <img src={previewImage} alt=\"preview\" className=\"w-16 h-24 object-cover rounded-md shadow\" onError={(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/400x600?text=Cover Not Found'; }} />\n                <div>\n                  <div className=\"font-bold text-lg\">{form.title}</div>\n                  <div className=\"text-sm text-slate-500\">{form.genre} • {form.pages || '??'} pages</div>\n                  <div className=\"text-amber-600 font-semibold mt-1\">{currency(form.price || 0)}</div>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          {/* About Page Editor (Admin) */}\n          <div className=\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\">\n            <h4 className=\"font-semibold mb-3\">About Page Editor</h4>\n            <div className=\"space-y-3\">\n              <input value={authorForm.name} onChange={e=>setAuthorForm({...authorForm, name:e.target.value})} placeholder=\"Author Name\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n              <input value={authorForm.tagline} onChange={e=>setAuthorForm({...authorForm, tagline:e.target.value})} placeholder=\"Tagline\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n              <input value={authorForm.avatar} onChange={e=>setAuthorForm({...authorForm, avatar:e.target.value})} placeholder=\"Avatar URL\" className=\"p-3 border rounded-lg w-full dark:bg-slate-900\" />\n              <textarea value={authorForm.bio} onChange={e=>setAuthorForm({...authorForm, bio:e.target.value})} placeholder=\"Short Bio\" className=\"p-3 border rounded-lg w-full h-28 dark:bg-slate-900\" />\n\n              <div>\n                <div className=\"text-sm text-slate-500 mb-2\">Social Links</div>\n                <input value={authorForm.social?.instagram || ''} onChange={e=>handleSocialChange('instagram', e.target.value)} placeholder=\"Instagram URL\" className=\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\" />\n                <input value={authorForm.social?.goodreads || ''} onChange={e=>handleSocialChange('goodreads', e.target.value)} placeholder=\"Goodreads URL\" className=\"p-2 border rounded-lg w-full dark:bg-slate-900 mb-2\" />\n                <input value={authorForm.social?.twitter || ''} onChange={e=>handleSocialChange('twitter', e.target.value)} placeholder=\"Twitter URL\" className=\"p-2 border rounded-lg w-full dark:bg-slate-900\" />\n              </div>\n\n              <div>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"text-sm text-slate-500\">Milestones / Stats</div>\n                  <button onClick={addStat} type=\"button\" className=\"px-2 py-1 bg-slate-900 text-white rounded text-sm\">Add</button>\n                </div>\n                <div className=\"space-y-2\">\n                  {(authorForm.stats || []).map((s, idx) => (\n                    <div key={idx} className=\"flex gap-2\">\n                      <input value={s.label} onChange={e=>handleStatChange(idx, 'label', e.target.value)} placeholder=\"Label (e.g., Books Published)\" className=\"p-2 border rounded-lg w-1/2 dark:bg-slate-900\" />\n                      <input value={s.value} onChange={e=>handleStatChange(idx, 'value', e.target.value)} placeholder=\"Value (e.g., 7)\" className=\"p-2 border rounded-lg w-1/3 dark:bg-slate-900\" />\n                      <button onClick={()=>removeStat(idx)} type=\"button\" className=\"px-2 py-1 bg-rose-500 text-white rounded\">✕</button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"flex gap-2\">\n                <button onClick={saveAuthor} className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold\">Save About</button>\n                <button onClick={()=>setAuthorForm(author || emptyAuthorForm)} className=\"px-4 py-2 border rounded-lg\">Reset</button>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-6 pt-4 border-t border-dashed border-slate-300 dark:border-slate-700\">\n             <button onClick={() => logoutAdmin(navigate)} className=\"w-full px-5 py-2 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-semibold transition shadow-md\">Logout Admin</button>\n          </div>\n        </aside>\n      </div>\n    </motion.main>\n  );\n}\n\n\n// -----------------------\n// App\n// -----------------------\nexport default function App(){\n  const [books, setBooks] = useLocalState('pt_books', SAMPLE_BOOKS);\n  const [author, setAuthor] = useLocalState('pt_author', SAMPLE_AUTHOR);\n  const [cart, setCart] = useLocalState('pt_cart', []);\n  const [modal, setModal] = useState({ isOpen: false, title: '', message: '', onConfirm: null });\n  const [isAdmin, setIsAdmin] = useLocalState('pt_is_admin', false);\n  \n  // Admin Credentials\n  const ADMIN_ID = 'admin';\n  const ADMIN_PASSWORD = 'secret123';\n\n  // Central function to trigger the custom modal\n  function showAlert(title, message, onConfirm = null) {\n    setModal({ isOpen: true, title, message, onConfirm });\n  }\n\n  function addToCart(book){\n    setCart(prev => [...prev, book]);\n    showAlert('Item Added', `${book.title} has been added to your cart.`);\n  }\n\n  function removeFromCart(idx){ setCart(prev => prev.filter((_,i)=>i!==idx)); }\n\n  function checkout(){\n    // This is where you would start the actual payment flow\n    showAlert('Checkout Demo', 'Implement Stripe/Razorpay checkout flow here.');\n  }\n\n  function loginAdmin(id, password) {\n    if (id === ADMIN_ID && password === ADMIN_PASSWORD) {\n      setIsAdmin(true);\n      return true;\n    }\n    return false;\n  }\n\n  // MODIFIED: logoutAdmin now accepts a navigate function from the calling component\n  function logoutAdmin(navigateCallback) {\n    showAlert('Confirm Logout', 'Are you sure you want to log out of the Admin dashboard?', () => {\n      setIsAdmin(false);\n      navigateCallback('/'); // Call the passed navigate function\n    });\n  }\n\n  // Wrapper for Admin route access control\n  const AdminRoute = ({ element }) => (\n    isAdmin ? element : <Navigate to=\"/admin/login\" replace />\n  );\n\n\n  return (\n    <Router>\n      <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-[Inter]\">\n        <HeaderComponent author={author} isAdmin={isAdmin} />\n\n        <AnimatePresence mode=\"wait\">\n          <Routes>\n            {/* Home page now contains all content */}\n            <Route path=\"/\" element={<HomeComponent books={books} author={author} showAlert={showAlert} BookCard={BookCard} Newsletter={Newsletter} PublishersTechPartnersSection={PublishersTechPartnersSection} TrustedSupportersSection={TrustedSupportersSection} publishers={SAMPLE_PUBLISHERS} techPartners={SAMPLE_TECH_PARTNERS} supporters={SAMPLE_SUPPORTERS} />} />\n            <Route path=\"/books\" element={<BooksComponent books={books} showAlert={showAlert} BookCard={BookCard} Newsletter={Newsletter} MoreAuthorsSection={MoreAuthorsSection} authors={SAMPLE_AUTHORS_COLLAB} />} />\n            {/* REMOVED: Dedicated Partners Page Route */}\n            <Route path=\"/book/:id\" element={<BookDetailComponent books={books} addToCart={addToCart} showAlert={showAlert} BookCard={BookCard} Newsletter={Newsletter} reviews={SAMPLE_REVIEWS} />} />\n            <Route path=\"/about\" element={<About author={author} />} />\n            <Route path=\"/contact\" element={<Contact showAlert={showAlert} />} />\n            \n            {/* Admin Login Route */}\n            <Route path=\"/admin/login\" element={<AdminLogin loginAdmin={loginAdmin} showAlert={showAlert} isAdmin={isAdmin} />} />\n            \n            {/* Protected Admin Dashboard Route */}\n            <Route path=\"/admin\" element={\n              <AdminRoute \n                element={<AdminComponent books={books} setBooks={setBooks} showAlert={showAlert} logoutAdmin={logoutAdmin} author={author} setAuthor={setAuthor} />}\n              />\n            } />\n            \n            <Route path=\"*\" element={<main className=\"max-w-4xl mx-auto px-6 py-12\"><h2 className=\"font-serif text-3xl\">404 - Page Not Found</h2><p className=\"mt-4\">The page you were looking for doesn't exist.</p></main>} />\n          </Routes>\n        </AnimatePresence>\n\n        <Footer author={author} />\n\n        <CartDrawer cart={cart} remove={removeFromCart} onCheckout={checkout} />\n\n        <Modal modal={modal} setModal={setModal} />\n      </div>\n    </Router>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}