{"ast":null,"code":"import _objectSpread from\"/Users/viveksingh/Desktop/book-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Lightweight API helper for the frontend to talk to the local Express API.\nconst API_BASE=process.env.REACT_APP_API_URL||'http://localhost:4000';async function request(path){let opts=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const res=await fetch(\"\".concat(API_BASE).concat(path),_objectSpread({headers:{'Content-Type':'application/json'}},opts));if(!res.ok){const text=await res.text().catch(()=>null);throw new Error(text||res.statusText||'API error');}// Try to parse JSON, otherwise return null\nconst ct=res.headers.get('content-type')||'';if(ct.includes('application/json'))return res.json();return null;}export async function fetchBooks(){return request('/api/books');}export async function fetchAuthor(){return request('/api/author');}export async function saveAuthor(data){return request('/api/author',{method:'POST',body:JSON.stringify(data)});}export async function toggleFeatured(bookId){return request(\"/api/books/\".concat(bookId,\"/toggle-featured\"),{method:'POST'});}export default{fetchBooks,fetchAuthor,saveAuthor,toggleFeatured};","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_URL","request","path","opts","arguments","length","undefined","res","fetch","concat","_objectSpread","headers","ok","text","catch","Error","statusText","ct","get","includes","json","fetchBooks","fetchAuthor","saveAuthor","data","method","body","JSON","stringify","toggleFeatured","bookId"],"sources":["/Users/viveksingh/Desktop/book-frontend/src/lib/api.js"],"sourcesContent":["// Lightweight API helper for the frontend to talk to the local Express API.\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:4000';\n\nasync function request(path, opts = {}){\n  const res = await fetch(`${API_BASE}${path}`, {\n    headers: { 'Content-Type': 'application/json' },\n    ...opts\n  });\n  if(!res.ok){\n    const text = await res.text().catch(()=>null);\n    throw new Error(text || res.statusText || 'API error');\n  }\n  // Try to parse JSON, otherwise return null\n  const ct = res.headers.get('content-type') || '';\n  if(ct.includes('application/json')) return res.json();\n  return null;\n}\n\nexport async function fetchBooks(){ return request('/api/books'); }\nexport async function fetchAuthor(){ return request('/api/author'); }\nexport async function saveAuthor(data){ return request('/api/author', { method: 'POST', body: JSON.stringify(data) }); }\nexport async function toggleFeatured(bookId){ return request(`/api/books/${bookId}/toggle-featured`, { method: 'POST' }); }\n\nexport default { fetchBooks, fetchAuthor, saveAuthor, toggleFeatured };\n"],"mappings":"4HAAA;AACA,KAAM,CAAAA,QAAQ,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAEzE,cAAe,CAAAC,OAAOA,CAACC,IAAI,CAAY,IAAV,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACpC,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIZ,QAAQ,EAAAY,MAAA,CAAGP,IAAI,EAAAQ,aAAA,EACxCC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,EAC5CR,IAAI,CACR,CAAC,CACF,GAAG,CAACI,GAAG,CAACK,EAAE,CAAC,CACT,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,GAAG,CAACM,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,IAAI,IAAI,CAAC,CAC7C,KAAM,IAAI,CAAAC,KAAK,CAACF,IAAI,EAAIN,GAAG,CAACS,UAAU,EAAI,WAAW,CAAC,CACxD,CACA;AACA,KAAM,CAAAC,EAAE,CAAGV,GAAG,CAACI,OAAO,CAACO,GAAG,CAAC,cAAc,CAAC,EAAI,EAAE,CAChD,GAAGD,EAAE,CAACE,QAAQ,CAAC,kBAAkB,CAAC,CAAE,MAAO,CAAAZ,GAAG,CAACa,IAAI,CAAC,CAAC,CACrD,MAAO,KAAI,CACb,CAEA,MAAO,eAAe,CAAAC,UAAUA,CAAA,CAAE,CAAE,MAAO,CAAApB,OAAO,CAAC,YAAY,CAAC,CAAE,CAClE,MAAO,eAAe,CAAAqB,WAAWA,CAAA,CAAE,CAAE,MAAO,CAAArB,OAAO,CAAC,aAAa,CAAC,CAAE,CACpE,MAAO,eAAe,CAAAsB,UAAUA,CAACC,IAAI,CAAC,CAAE,MAAO,CAAAvB,OAAO,CAAC,aAAa,CAAE,CAAEwB,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAE,CAAC,CAAC,CAAE,CACvH,MAAO,eAAe,CAAAK,cAAcA,CAACC,MAAM,CAAC,CAAE,MAAO,CAAA7B,OAAO,eAAAQ,MAAA,CAAeqB,MAAM,qBAAoB,CAAEL,MAAM,CAAE,MAAO,CAAC,CAAC,CAAE,CAE1H,cAAe,CAAEJ,UAAU,CAAEC,WAAW,CAAEC,UAAU,CAAEM,cAAe,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}